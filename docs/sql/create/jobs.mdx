---
title: CREATE JOB Statement
sidebarTitle: JOB
---

## Description

The `CREATE JOB` statement lets you schedule the execution of queries by providing relevant parameters, such as start date, end date, or repetition frequency.

## Syntax

### Creating a Job

Here is the syntax:

```sql
CREATE JOB [project_name.]job_name [AS] (
   <mindsdb_sql_query_1>[; <mindsdb_sql_query_2>]
)
[START { now | <date> }]
[END { now | <date> }]
[EVERY [number] <period>];
```

Where:

| Expression                                        | Description                                                                                                                                                    |
| ------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `[project_name.]job_name`                         | Name of the job preceded by an optional project name where the job is to be created.                                                                           |
| `<mindsdb_sql_query_1>[; <mindsdb_sql_query_2>]`  | One or more queries separated by `;` to be executed by the job.                                                                                                |
| `[START { now \| date }]`                         | Optional. The date when the job starts its periodical execution. If not set, it is the current system date.                                                    |
| `[END { now \| date }]`                           | Optional. The date when the job ends its periodical execution. If not set, the job repeats forever.                                                            |
| `[EVERY [number] period]`                         | Optional. The repeat rules for the job. If not set, the job runs once, not considering the end date value. If the `number` value is not set, it defaults to 1. |

Here are the supported `<date>` formats:
- `'%Y-%m-%d %H:%M:%S'`
- `'%Y-%m-%d'`

Please note that the default time zone is UTC.

And the supported `<period>` values:
- `minute` / `minutes` / `min`
- `hour` / `hours`
- `day` / `days`
- `week` / `weeks`
- `month` / `months`

### Deleting a Job

Here is the syntax for deleting a job:

```sql
DROP JOB [project_name.]job_name;
```

The `project_name` value is optional. The `job_name` value indicates the job to be deleted.

Let's look at some examples:

```sql
DROP JOB my_project.retrain_and_save_job;
```

Here we drop the `retrain_and_save_job` that resides in the `my_project` project.

And another example:

```sql
DROP JOB create_table_job;
```

Here we drop the `create_table_job` job that resides in the current project.

To learn more about projects in MindsDB, visit our docs [here](/sql/project).

### Querying Jobs [todo-docs]

Here is how we can view all jobs in the current project:

```sql
SELECT *
FROM jobs;
```

On execution, we get:

```sql
+---------
| NAME      | PROJECT     | START_AT           | END_AT           | NEXT_RUN_AT         | SCHEDULE_STR       | QUERY           |
+-----------
|
|
|
```

We can also view jobs from a defined project:

```sql
SELECT *
FROM my_project.jobs;
```

On execution, we get:

```sql
+---------
| NAME      | PROJECT     | START_AT           | END_AT           | NEXT_RUN_AT         | SCHEDULE_STR       | QUERY           |
+-----------
|
|
|
```

And here is how to view jobs from all projects at once:

```sql
SELECT *
FROM information_schema.jobs;
```

On execution, we get:

```sql
+---------
| NAME      | PROJECT     | START_AT           | END_AT           | NEXT_RUN_AT         | SCHEDULE_STR       | QUERY           |
+-----------
|
|
|
```

### Querying Jobs History [todo-docs]

You can query the history of jobs similar to querying for jobs.

Here is how we can view all jobs history in the current project:

```sql
SELECT *
FROM jobs_history;
```

On execution, we get:

```sql
+---------
| NAME      | PROJECT     | START_AT           | END_AT           | ERROR       | QUERY           |
+-----------
|
|
|
```

We can also view jobs history from a defined project:

```sql
SELECT *
FROM my_project.jobs_history;
```

On execution, we get:

```sql
+---------
| NAME      | PROJECT     | START_AT           | END_AT           | ERROR       | QUERY           |
+-----------
|
|
|
```

And here is how to view jobs history from all projects at once:

```sql
SELECT *
FROM information_schema.jobs_history;
```

On execution, we get:

```sql
+---------
| NAME      | PROJECT     | START_AT           | END_AT           | ERROR       | QUERY           |
+-----------
|
|
|
```

### Additional Configuration [todo-testing&docs]

todo

## Example 1

In this example, we create a job in the current project to retrain the `home_rentals_model` model and insert predictions into the `rentals` table.

```sql
CREATE JOB retrain_rentals (

   RETRAIN mindsdb.home_rentals_model
   USING
      join_learn_process = true;

   INSERT INTO my_integration.rentals (
      SELECT m.rental_price, m.rental_price_explain
      FROM mindsdb.home_rentals_model AS m
      JOIN example_db.demo_data.home_rentals AS d
   )
)
END '2023-04-01 00:00:00'
EVERY 2 days;
```

<Tip>
Please note that the `join_learn_process` parameter in the `USING` clause of the [`RETRAIN`](/sql/api/retrain) statement ensures that the retraining process completes before inserting predictions into a table. In general, this parameter is used to prevent several retrain processes from running simultaneously.
</Tip>

The `retrain_rentals` job starts its execution on the current system date and ends on the 1st of April 2023. The job is executed every 2 days.

## Example 2

In this example, the job creates a table named as `result_{{START_DATETIME}}` and inserts predictions into it.

```sql
CREATE JOB slice_predictions (

   CREATE TABLE my_integration.`result_{{START_DATETIME}}` (
      SELECT m.rental_price, m.rental_price_explain
      FROM mindsdb.home_rentals_model AS m
      JOIN example_db.demo_data.home_rentals AS d
   )
)
EVERY hour;
```

<Tip>
Please note that the uniqueness of the created table name is ensured here by using the `{{START_DATETIME}}` variable.

You can use the following variables for this purpose:
- `PREVIOUS_START_DATETIME` is replaced by date and time of the previous run of this job.
- `START_DATETIME` is replaced by date and time of the current job run.
- `START_DATE` is replaced by date of the current job run.
</Tip>

The `slice_predictions` job starts its execution on the current system date and repeats it every 2 hours until it is manually disabled.

## Example 3 [todo-testing]

In this example, we create a job to drop the `home_rentals_model` model scheduled on the 1st of April 2023.

```sql
CREATE JOB drop_model (
   DROP MODEL mindsdb.home_rentals_model
) 
START '2023-04-01';
```

This job runs once on the 1st of April 2023.
