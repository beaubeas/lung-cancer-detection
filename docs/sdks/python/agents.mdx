---
title: AI Agents with LLMs and Skills
sidebarTitle: AI Agents
---

With MindsDB, you can create and deploy AI agents that comprise AI models and customizable skills such as knowledge bases and text-to-SQL.

<p align="center">
  <img src="/assets/agent_diagram.png" />
</p>

AI agents use a conversational model (like OpenAI) from LangChain utilizing [tools as skills](https://python.langchain.com/docs/modules/agents/tools/) to respond to user input. Users can customize AI agents with their own prompts to fit their use cases.

## AI Agents' Components

AI agents comprise of skills, such as text2sql and knowledge_base, and a conversational model.

### Skills

Skills provide data resources to an agent, enabling it to answer questions about available data.

Here is how to create and work with skills:

```python
# get a skill by name
skill = skills.get('my_skill')

# list all skills
skills = skills.list()

# create a new SQL skill
text_to_sql_skill = skills.create('text_to_sql', 'sql', { 'tables': ['my_table'], 'database': 'my_database' })

# update a skill
skill.params = { 'tables': ['new_table'], 'database': 'new_database' }
updated_skill = skills.update('my_skill', skill)

# delete a skill by name
skills.delete('my_skill')
```

#### Text2SQL

To search data efficiently, use the text2sql skills that translate user's input into a query and fetch relevant data from defined datasets.

```python
text_to_sql_skill = skills.create('text_to_sql', 'sql', { 'tables': ['my_table'], 'database': 'my_database' })
```

This skill can be assigned to an agent at creation time:

```python
agent = agents.create('my_agent', model_name, [text_to_sql_skill])
```

#### Knowledge Base

To feed an agent with data from different sources, use the knowledge_base skills.

```python
# create a knowledge base
my_kb = server.knowledge_bases.create('my_kb')

# insert data into a knowledge base from a file
my_kb.insert(pd.read_csv('file_name.csv'))

# insert data into a knowledge base from a database
my_kb.insert(server.databases.db_name.tables.table_name.filter(column_name='value'))

# insert data into a knowledge base
my_kb.insert({'column_name': 'value', 'column_name': 'value', ...})

# query a knowledge base
df = my_kb.find('keyword').fetch()

# list all available knowledge bases
kb_list = server.knowledge_bases.list()

# get a knowledge base by name
kb = server.knowledge_bases.get('my_kb')
kb = server.knowledge_bases.my_kb

# drop a knowledge base
server.knowledge_bases.drop('my_kb')
```

### Model

Model enables an agent to form a response based on the available resources.

Here is how to create a model to be used by an agent:

```python
# create a langchain engine
langchain_engine = con.ml_engines.create('langchain', handler='langchain')

# create a langchain model
langchain_model = con.models.create(
    'agent_model',
    predict='answer',
    engine='langchain',
    prompt_template='<here you can add a personality to an agent>; answer user's question: {{question}}',
    model_name='gpt-4-0125-preview' # This is the underlying LLM. Can use OpenAI, Claude, local Ollama, etc
    # Can optionally set LLM args here. For example:
    # temperature=0.0,
    # max_tokens=1000,
    # top_p=1.0,
    # top_k=0,
    # ...
)
```

This model can be assigned to an agent at creation time:

```python
agent = agents.create('my_agent', agent_model, [text_to_sql_skill])
```

## AI Agent

Here is how to create and work with AI agents:

```python
# get an agent by name
agent = agents.get('my_agent')

# query an agent
completion = agent.completion([{'question': 'What is your name?', 'answer': None}])
print(completion.content)

# list all agents
agents = agents.list()

# create a new agent
model = models.get('my_model') # Or use models.create(...)
text_to_sql_skill = skills.create('text_to_sql', 'sql', { 'tables': ['my_table'], 'database': 'my_database' })
agent = agents.create('my_agent', model, [text_to_sql_skill])

# update an agent
new_model = models.get('new_model')
agent.model_name = new_model.name
new_skill = skills.create('new_skill', 'sql', { 'tables': ['new_table'], 'database': 'new_database' })
updated_agent.skills.append(new_skill)
updated_agent = agents.update('my_agent', agent)

# delete an agent by name
agents.delete('my_agent')
```
