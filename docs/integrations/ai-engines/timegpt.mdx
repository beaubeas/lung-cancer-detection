---
title: Nixtla's TimeGPT Integration with MindsDB
sidebarTitle: TimeGPT
---

TimeGPT by Nixtla is a generative pre-trained model specifically designed for predicting time series data. TimeGPT takes time series data as input and produces forecasted outputs. TimeGPT can be effectively employed in various applications, including demand forecasting, anomaly detection, financial prediction, and more.

You can learn more about its features [here](https://docs.nixtla.io/docs/quickstart).

## How to bring TimeGPT Models to MindsDB

Before creating a model, you will need to create an ML engine for TimeGPT using the `CREATE ML_ENGINE` statement:

```sql
CREATE ML_ENGINE timegpt
FROM timegpt;
```

Once the ML engine is created, we use the `CREATE MODEL` statement to create the TimeGPT model in MindsDB.

```sql
CREATE MODEL model_name
FROM data_source
  (SELECT * FROM table_name)
PREDICT column_to_be_predicted
ORDER BY date_column
GROUP BY column_name, column_name, ...
WINDOW 12 -- model looks back at sets of 12 rows each
HORIZON 3 -- model forecasts the next 3 rows
USING ENGINE = 'timegpt';
```

To ensure that the model is created based on the TimeGPT engine, include the `USING` clause at the end.

## Example

Let's go through an example of how to use Nixtla's TimeGPT with MindsDB to forecast monthly expenditures based on historical data.

Please note that before using the TimeGPT engine, you should create it from the MindsDB editor, or other clients through which you interact with MindsDB, with the below command:

```sql
CREATE ML_ENGINE timegpt
FROM timegpt;
```

You can check the available engines with this command:

```sql
SHOW ML_ENGINES;
```

If you see the TimeGPT engine on the list, you are ready to follow the tutorials.

We use a table from our MySQL public demo database, so let’s start by connecting MindsDB to it:

```sql
CREATE DATABASE mysql_demo_db
WITH ENGINE = 'mysql',
PARAMETERS = {
    "user": "user",
    "password": "MindsDBUser123!",
    "host": "db-demo-data.cwoyhfn6bzs0.us-east-1.rds.amazonaws.com",
    "port": "3306",
    "database": "public"
};
```

Now that we’ve connected our database to MindsDB, let’s query the data to be used in the example:

```sql
SELECT *
FROM mysql_demo_db.historical_expenditures
LIMIT 3;
```

Here is the output:

```sql
+------------+----------+-------------+
| month      | category | expenditure |
+------------+----------+-------------+
| 1982-04-01 | industry | 3396.4      |
| 1982-05-01 | industry | 3497.9      |
| 1982-06-01 | industry | 3357.8      |
+------------+----------+-------------+
```

The `historical_expenditures` table stores monthly expenditure data for various categories, such as `food`, `clothing`, `industry`, and more.

Let's create a model table to predict the expenditures:

```sql
CREATE MODEL quarterly_expenditure_forecaster
FROM mysql_demo_db
  (SELECT * FROM historical_expenditures)
PREDICT expenditure
ORDER BY month
GROUP BY category
WINDOW 12
HORIZON 3
USING ENGINE = 'timegpt';
```

The `CREATE MODEL` statement creates, trains, and deploys the model. Here, we predict the `expenditure` column values. As it is a time series model, we order the data by the `month` column. Additionally, we group data by the `category` column - the predictions are made for each group independently (here, for each category).

Next, we define the `WINDOW` and `HORIZON` clauses. The `WINDOW` clause specifies the number of rows we look back at (here, we look back at sets of 12 rows). And the `HORIZON` clause defines for how many rows the predictions are made (here, for the next 3 rows).

<Tip>
Please visit our docs on the [`CREATE MODEL`](/sql/create/model) statement to learn more.
</Tip>

The `ENGINE` parameter in the `USING` clause specifies the ML engine used to make predictions.

We can check the training status with the following query:

```sql
DESCRIBE quarterly_expenditure_forecaster;
```

Once the model status is `complete`, the behavior is the same as with any other AI table – you can query for batch predictions by joining it with a data table:

```sql
SELECT m.month as month, m.expenditure as forecasted
FROM mindsdb.quarterly_expenditure_forecaster as m
JOIN mysql_demo_db.historical_expenditures as t
WHERE t.month > LATEST
AND t.category = 'industry';
```

Here is the output data:

```sql
+----------------------------+-----------------+
| month                      | forecasted      |
+----------------------------+-----------------+
| 2017-10-01 00:00:00.000000 | 10256.251953125 |
| 2017-11-01 00:00:00.000000 | 10182.58984375  |
| 2017-12-01 00:00:00.000000 | 10316.259765625 |
+----------------------------+-----------------+
```

The `historical_expenditures` table is used to make batch predictions. Upon joining the `quarterly_expenditure_forecaster` model with the `historical_expenditures` table, we get predictions for the next quarter as defined by the `HORIZON 3` clause.

Please note that the output `month` column contains both the date and timestamp. This format is used by default, as the timestamp is required when dealing with the hourly frequency of data.

MindsDB provides the `LATEST` keyword that marks the latest training data point. In the `WHERE` clause, we specify the `month > LATEST` condition to ensure the predictions are made for data after the latest training data point.

Let’s consider our `quarterly_expenditure_forecaster` model. We train the model using data until the third quarter of 2017, and the predictions come for the fourth quarter of 2017 (as defined by `HORIZON 3`).
