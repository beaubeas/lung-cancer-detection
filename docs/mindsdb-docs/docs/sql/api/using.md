
In MindsDB, the underlying AutoML models are based on Lightwood. This library generates models automatically based on the data and a declarative problem definition, but the default configuration can be overridden.

# USING statement

The `USING ...` statement provides the option to configure a model to be trained with specific options.

## Syntax:

```sql
CREATE PREDICTOR [name_of_your _predictor]
FROM [name_of_your_integration]
    (SELECT * FROM your_database.your_data_table)
PREDICT [data_target_column]
USING 
[parameter] = ['parameter_value1']
;
```

# Options

There are several high-level keys that can be specified with `USING`. Here, we explore a couple of them.

## THE ENCODER KEY (USING encoders)

Grants access to configure how each column is encoded. By default, the AutoML engine will try to get the best match for the data.


```sql
... 
USING 
encoders.[column_name].module='value'
;
```

To learn more about how encoders work and their options, go [here](https://lightwood.io/encoder.html).

## THE MODEL KEY (USING model)

Allows you to specify what type of Machine Learning algorithm to learn from the encoder data.

```sql
... 
USING 
model.args [].=''
;
```

To learn more about all the model options, go [here](https://lightwood.io/mixer.html).

# Other keys

We support JSON-like syntax as well as a dot access notation for said JSON. In that sense, it is equivalent to write `USING a.b.c=5` or `USING a = {"b": {"c": 5}}`.

You have a lot of options in terms of what you can configure with `USING`. Since lightwood model are fully-generated by a JSON configuration we call "JsonAI", and with the `USING` statement you can modify all bits of that. The most common usecases for configuring predictors will be listed and explained in the example below. To see all options available in detail, you should checkout the lightwood docs about [`JsonAI`](https://lightwood.io/api/types.html#api.types.JsonAI).

# Example 

We will use the home rentals dataset, specifying particular encoders for some of the columns and a LightGBM model.

```sql
CREATE PREDICTOR home_rentals_predictor 
FROM my_db_integration (
    SELECT * FROM home_rentals
) PREDICT rental_price
USING 
    /* Change the encoder for a column */
    encoders.location.module='CategoricalAutoEncoder',
    /* Change the encoder for another colum (the target) */
    encoders.rental_price.module = 'NumericEncoder',
    /* Change the arguments that will be passed to that encoder */
    encoders.rental_price.args.positive_domain = 'True',
    /* Set the list of models lightwood will try to use to a single one, a Light Gradient Boosting Machine.*/
    model.args='{"submodels": [{"module": "LightGBM", "args": {"stop_after": 12, "fit_on_dev": true}}]}';
;
```

If you're unsure how to configure a model to solve your problem, feel free to ask us how to do it on the community [Slack workspace](https://join.slack.com/t/mindsdbcommunity/shared_invite/zt-o8mrmx3l-5ai~5H66s6wlxFfBMVI6wQ).
