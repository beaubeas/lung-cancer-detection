# CREATE PREDICTOR USING statement

In MindsDB, the underlying automl models are based on [Lightwood](lightwood.io). This library generates model automatically based on the data and the problem definition, but the default configuration can be overridden by the user with the `USING` keyword during predictor creation/

 CREATE PREDICTOR home_rentals_predictor_5 FROM mydb (select * from test_data.home_rentals)  PREDICT rental_price USING  encoders.location.module='CategoricalAutoEncoder', encoders.rental_price.module='NumericEncoder', encoders.rental_price.args.positive_domain='False',  `model`.args='{"submodels": [{"module": "LightGBM", "args": {"stop_after": 12, "fit_on_dev": true}}]}';

For example, let say we want to change the `location` column's encoding from a One-Hot encoder to a label encoder or an autoencoder. We could change this query:
```sql
CREATE PREDICTOR home_rentals_predictor 
FROM my_db_integration (
    SELECT * FROM home_rentals
) PREDICT rental_price;
```

to

```sql
CREATE PREDICTOR home_rentals_predictor 
FROM my_db_integration (
    SELECT * FROM home_rentals
) PREDICT rental_price
USING encoders.location.module='CategoricalAutoEncoder';
```

## More examples

In the query bellow we'll showcase modifying a few things about the model with `USING`:

```sql
CREATE PREDICTOR home_rentals_predictor 
FROM my_db_integration (
    SELECT * FROM home_rentals
) PREDICT rental_price
USING 
    /* Change the encoder for a column */
    encoders.location.module='CategoricalAutoEncoder',
    /* Change the encoder for another colum (the target) */
    encoders.rental_price.module = 'NumericEncoder',
    /* Change the arguments that will be passed to that encoder */
    encoders.rental_price.args.positive_domain = 'True',
    /* Set the list of models lightwood will try to use to a single one, a Light Gradient Boosting Machine.*/
    model.args='{"submodels": [{"module": "LightGBM", "args": {"stop_after": 12, "fit_on_dev": true}}]}';
```

## Json and Json AI

As you can see in the example above, we support json-like syntax as well as a `.` access notation for said json.

In that sense it's equivalent to write `USING a.b.c=5` or `USING a = {"b":{"c":5}}`.

You have **a lot** of options in terms of what you can configure with `USING`. Since lightwood model are fully-generated by a json configuration we call "JsonAI", and with the `USING` statement you can modify all bits of that. The most common usecases for configuring predictors will be listed and explained in the above examples. To see all options available to you checkout the [lightwood docs about JsonAI](https://lightwood.io/api/types.html#api.types.JsonAI). If you're unsure how to configure a model to solve your problem, feel free to ask us how to do it on the community slack :)