(this.webpackJsonpmindsdb_web=this.webpackJsonpmindsdb_web||[]).push([[0],{400:function(e,t,a){e.exports=a.p+"static/media/mindsdb-logo.770b9ba0.svg"},423:function(e,t,a){e.exports=a(698)},428:function(e,t,a){},448:function(e,t,a){},452:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},501:function(e,t,a){},502:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){},515:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},650:function(e,t,a){},678:function(e,t,a){},679:function(e,t,a){},680:function(e,t,a){},681:function(e,t,a){},682:function(e,t,a){},683:function(e,t,a){},684:function(e,t,a){},685:function(e,t,a){},686:function(e,t,a){},687:function(e,t,a){},688:function(e,t,a){},689:function(e,t,a){},690:function(e,t,a){},691:function(e,t,a){},698:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(61),i=a.n(o),l=(a(428),a(74)),s=a(13),c=a(15),u=a(20),d=a(19),m=a(5),p=a(378),f=a(379),h=a(736),g=(a(448),a(449),a(450),a(451),a(31)),b=(a(452),a(73)),v=a(22),y=a(380),E=a(77),w=a(9),x=a(206),k=a(12),N=a(14);function S(){var e=Object(k.a)(["\n  margin-right: 20px;\n  margin: 11% auto;\n  width: 570px;\n  input {\n    height: 40px;\n    border-radius: 5px;\n    border: solid 1px #e1e1e1;\n    background-color: #ffffff;\n    padding: 10px;\n    font-size: 1em;\n    color: #34363e;\n    min-width: 570px;\n    transition: all 0.3s ease-in-out;\n    &:focus {\n      outline: 0;\n      border-color: rgba(42, 182, 115, 0.8);\n      box-shadow: $focus-shadow;\n    }\n\n    &:disabled {\n      color: #c0c0c0;\n    }\n  }\n\n"]);return S=function(){return e},e}var O=N.a.div(S()),C=a(3),j=a.n(C),_=a(17),D=a(80),P=a(155),F=(a(460),a(208)),T=a.n(F),L=a(156),B=a.n(L);B.a.init("176f69fc099f8e59522fac05c02d5939");var I={identify:function(e){B.a.identify(e)},alias:function(e){B.a.alias(e)},track:function(e,t){console.log("traking: ",e),B.a.track(e,t)},people:{set:function(e){B.a.people.set(e)}}},R=(a(478),function(e){return r.a.createElement(w.Button,{className:"minds-action-btn github-button",type:"button",onClick:e.onClick,icon:"fab fa-github",label:e.label,disabled:e.disabled})});R.defaultProps={onClick:function(){},label:"LOG IN WITH GITHUB",disabled:!1};var A=R,M=a(26),U=function(){function e(){Object(s.a)(this,e),this.connected=!1,this.checkIntervalId=null,this.url="http://localhost:47334"}return Object(c.a)(e,[{key:"connect",value:function(){var e=Object(_.a)(j.a.mark((function e(t,a){var n=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0===this.connected&&this.disconnect(),this.params=a,M.a.connect(t,this.params),!1,e.prev=4,e.next=7,M.a.ping(this.params);case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),!1;case 13:Object(m.n)((function(){n.connected=!0,n.url=t,n.checkIntervalId=setInterval((function(){n.checkConnection(n.params)}),1e4)}));case 14:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){null!=this.checkIntervalId&&clearInterval(this.checkIntervalId),M.a.disconnect(),this.connected=!1}},{key:"checkConnection",value:function(){var e=Object(_.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.prev=1,e.next=4,M.a.ping(t);case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a=!1;case 10:!0!==a&&this.disconnect();case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();Object(m.h)(U,{connected:m.m,url:m.m,connect:m.d,disconnect:m.d,checkConnection:m.d});var W=new U,V=function(){function e(){Object(s.a)(this,e),this.config={localServerStatus:{installed:!1,installing:!1,starting:!1,running:!1},waitingLocalServerStatusUpdate:!1},this.log=[],this.maxLogLength=500,this.goodPythonVersion="3.6",this.cloudUrl="https://cloud.mindsdb.com",this.firebaseConfig={apiKey:"AIzaSyCIVNYLF-8_yUn8Qxxl4jL0TFJq3HOEmD0",authDomain:"mindsdb-cloud.firebaseapp.com",databaseURL:"https://mindsdb-cloud.firebaseio.com",projectId:"mindsdb-cloud",storageBucket:"mindsdb-cloud.appspot.com",messagingSenderId:"18876219561",appId:"1:18876219561:web:6fa6992c7ef192dc8869b8",measurementId:"G-Q6LG33G7SP"}}return Object(c.a)(e,[{key:"waitLocalServerStatusUpdate",value:function(){this.config.waitingLocalServerStatusUpdate=!0}},{key:"appendLog",value:function(e){this.log.push(e),this.log.length>this.maxLogLength&&(this.log=this.log.slice(this.log.length-this.maxLogLength))}},{key:"updateConfig",value:function(e){if(void 0!==e.localServerStatus){if(this.config.waitingLocalServerStatusUpdate=!1,!1===this.config.localServerStatus.running&&!0===e.localServerStatus.running){var t=localStorage.getItem("apikey"),a=[{key:"apikey",value:t||void 0}];W.connect("http://localhost:47334",a)}!0===this.config.localServerStatus.running&&!1===e.localServerStatus.running&&W.disconnect()}Object.assign(this.config,e)}},{key:"saveConfig",value:function(e){this.updateConfig(e)}},{key:"isGoodPython",get:function(){return!1}}]),e}();Object(m.h)(V,{config:m.m,log:m.m,waitLocalServerStatusUpdate:m.d,appendLog:m.d,updateConfig:m.d,saveConfig:m.d,isGoodPython:m.e});var z=new V;a(479);function H(){var e=Object(k.a)(["\n\tposition: absolute;\n\tbottom: 22px;\n  left: 27%;\n  text-align: center;\n    button {\n      margin-bottom: 30px;\n    }\n"]);return H=function(){return e},e}function q(){var e=Object(k.a)(["\n\tfont-family: 'Rubik Medium';\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tletter-spacing: normal;\n\tcolor: #2c263f;\n\tdisplay: block;\n\tmargin-bottom: 12px;\n\ttext-align: center;\n"]);return q=function(){return e},e}function Q(){var e=Object(k.a)(["\n\tposition: absolute;\n\tbottom: 22px;\n\tleft: 20%;\n"]);return Q=function(){return e},e}function G(){var e=Object(k.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\twidth: 100%;\n\tmargin-top: 20px;\n"]);return G=function(){return e},e}function $(){var e=Object(k.a)(['\n\tdisplay: flex;\n\talign-items: center;\n\tcolor: #2c263f;\n\tfont-family: "Rubik Medium";\n\tfont-size: 36px;\n\tfont-weight: 500;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tline-height: normal;\n\tletter-spacing: normal;\n\tleft: 25px;\n\tposition: absolute;\n\ttop: 22px;\n\tright: 25px;\n']);return $=function(){return e},e}function K(){var e=Object(k.a)(["\n\theight: 29px;\n\tborder-radius: 5px;\n\tbox-shadow: 2px 2px 6px -3px rgba(0, 176, 109, 0.8);\n\tborder: solid 1px rgba(0, 176, 109, 0.3);\n\tmargin-bottom: 15px;\n"]);return K=function(){return e},e}function Y(){var e=Object(k.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-flow: column;\n\twidth: 400px;\n\tmargin: 10px 0;\n\tinput {\n\t\twidth: 100%;\n\t}\n"]);return Y=function(){return e},e}function J(){var e=Object(k.a)(["\n\tdisplay: grid;\n\talign-content: center;\n\tjustify-content: center;\n\tposition: relative;\n\tborder-radius: 5px;\n\tbox-shadow: 4px 4px 11px -7px rgba(0, 0, 0, 0.8);\n\tborder: solid 1px rgba(93, 105, 112, 0.3);\n\theight: 57vh;\n\twidth: 540px;\n\tmargin: 0 auto;\n"]);return J=function(){return e},e}var X,Z=N.a.div(J()),ee=N.a.div(Y()),te=(N.a.input(K()),N.a.span($())),ae=N.a.div(G()),ne=N.a.div(Q()),re=N.a.span(q()),oe=N.a.div(H()),ie=Object(g.a)(X=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={stage:"login",status:"disconnected",email:"",password:"",confirmPassword:"",passwordVisible:!1,confirmPasswordVisible:!1,emailBlured:!1,passwordBlured:!1,confirmPasswordBlured:!1},e.passwordInputRef=null,e.confirmPasswordInputRef=null,e.signUpButtonRef=null,e.logInButtonRef=null,e.setFieldValue=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(v.a)({},a,n))},e.getIdToken=function(){return new Promise((function(e,t){P.auth().currentUser.getIdToken(!0).then((function(t){return e(t)})).catch((function(e){return t(e)}))}))},e.cloudLogin=function(){var t=Object(_.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cloudApi.post("/api/login",{jwt:a});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.testPing=function(){var t=Object(_.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cloudApi.get("/util/ping",{params:{apikey:a},timeout:18e4});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onGitHubLogin=function(){e.props.onSetLoading(!0),P.auth().signInWithPopup(e.gitHubProvider).then((function(e){localStorage.setItem("cloud_login_email",JSON.stringify({provider:"github",login:e.additionalUserInfo.username}))})).then(e.establishConnect).then(function(){var t=Object(_.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return I.track("Connection > MindsDB Cloud"),t.next=4,e.awaitState({status:"connected",stage:"logged"});case 4:t.next=9;break;case 6:return t.next=8,e.awaitState({status:"disconnected"});case 8:e.props.onSetLoading(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(_.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.message,t.next=3,e.awaitState({status:"disconnected"});case 3:e.props.onSetLoading(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.setPasswordInputRef=function(t){e.passwordInputRef=t},e.setConfirmPasswordInputRef=function(t){e.confirmPasswordInputRef=t},e.setSignUpButtonRef=function(t){e.signUpButtonRef=t},e.setLogInButtonRef=function(t){e.logInButtonRef=t},e.awaitState=function(t){return new Promise((function(a){e.setState(t,a)}))},e.establishConnect=Object(_.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getIdToken();case 3:return a=t.sent,t.next=6,e.awaitState({status:"requesting access token"});case 6:return t.next=8,e.cloudLogin(a);case 8:return n=t.sent,t.next=11,e.awaitState({status:"waiting for MindsDB answer"});case 11:return t.next=13,e.testPing(n.token);case 13:return t.next=15,e.awaitState({status:"connected"});case 15:return e.props.onConnect(n),t.abrupt("return",!0);case 19:return t.prev=19,t.t0=t.catch(0),t.next=23,e.awaitState({status:"disconnected"});case 23:return t.abrupt("return",!1);case 24:return t.prev=24,e.props.onSetLoading(!1),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[0,19,24,27]])}))),e.onEnter=function(t){var a=e.state.stage;13===t.keyCode&&("email"===t.target.name?e.passwordInputRef.element.focus():"password"===t.target.name&&"registration"===a?e.confirmPasswordInputRef.element.focus():"password"===t.target.name&&"login"===a?e.logInButtonRef.element.focus():"confirmPassword"===t.target.name&&e.signUpButtonRef.element.focus())},e.isEmailCorrect=function(){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e.state.email).toLowerCase())},e.isPasswordCorrect=function(){var t=e.state.password;return!(t.length<6||t.length>t.replace(" ","").length)},e.isPasswordsSame=function(){return e.state.password===e.state.confirmPassword},e.onLogin=function(){var t=e.state,a=t.email,n=t.password;!1!==e.isEmailCorrect()&&!1!==e.isPasswordCorrect()&&(e.props.onSetLoading(!0),P.auth().signInWithEmailAndPassword(a,n).then(Object(_.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).then(e.establishConnect).then(function(){var t=Object(_.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return t.next=3,e.awaitState({stage:"logged"});case 3:localStorage.setItem("cloud_login_email",JSON.stringify({provider:"email",login:a})),t.next=9;break;case 6:return e.props.onSetLoading(!1),t.next=9,e.awaitState({status:"disconnected"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(_.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.message,e.props.onSetLoading(!1),t.next=4,e.awaitState({status:"disconnected"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},e.onSignUp=Object(_.a)(j.a.mark((function t(){var a,n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.email,r=a.password,!1!==e.isEmailCorrect()){t.next=3;break}return t.abrupt("return");case 3:if(!1!==e.isPasswordCorrect()){t.next=5;break}return t.abrupt("return");case 5:if(!1!==e.isPasswordsSame()){t.next=7;break}return t.abrupt("return");case 7:return e.props.onSetLoading(!0),t.next=10,e.awaitState({status:"registering new user"});case 10:P.auth().createUserWithEmailAndPassword(n,r).then(Object(_.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.awaitState({stage:"login"});case 2:case"end":return t.stop()}}),t)})))).then(e.establishConnect).then(function(){var t=Object(_.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,e.awaitState({stage:"logged"});case 3:t.next=8;break;case 5:return e.props.onSetLoading(!1),t.next=8,e.awaitState({status:"disconnected"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(_.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.message,e.props.onSetLoading(!1),t.next=4,e.awaitState({status:"disconnected"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)}))),e.togglePasswordVisible=function(){e.setState((function(e){return{passwordVisible:!e.passwordVisible}}))},e.toggleConfirmPasswordVisible=function(){e.setState((function(e){return{confirmPasswordVisible:!e.confirmPasswordVisible}}))},e.setBlured=function(t){var a="".concat(t.target.name,"Blured");e.setState(Object(v.a)({},a,!0))},e.goToLoginStage=function(){e.setState({stage:"login"})},e.goToRegistrationStage=function(){e.setState({stage:"registration"})},e.goToGithub=function(e){e.preventDefault()},e.onDisconnect=function(){W.connected&&W.disconnect()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.gitHubProvider=new P.auth.GithubAuthProvider,this.cloudApi=T.a.create({baseURL:z.cloudUrl,timeout:12e3});var e=JSON.parse(localStorage.getItem("cloud_login_email")||'{"provider": "email", "login": ""}'),t="email"===e.provider?e.login:"";!0===this.props.connected?this.setState({stage:"logged",status:"connected",email:t}):this.setState({stage:"login",status:"disconnected",email:t})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.connected;e.connected!==a&&(!0===a?this.setState({stage:"logged",status:"connected"}):this.setState({stage:"login",status:"disconnected"}))}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.confirmPassword,o=e.stage,i=e.status,l=e.passwordVisible,s=e.confirmPasswordVisible,c=e.emailBlured,u=e.passwordBlured,d=e.confirmPasswordBlured,m=this.props.loading;var p=JSON.parse(localStorage.getItem("cloud_login_email")||'{"provider": "email", "login": ""}');return r.a.createElement("div",{className:"cloud-connection"},r.a.createElement("div",{className:"input-block"},r.a.createElement(Z,null,r.a.createElement(te,null,"MindsDB Cloud"),r.a.createElement("div",{className:"form-container"},"logged"===o&&r.a.createElement("div",{className:"input-container"},r.a.createElement(re,null,"Welcome to MindsDB Cloud"),r.a.createElement("span",null,p.login)),("registration"===o||"login"===o)&&r.a.createElement(ee,null,r.a.createElement("span",{className:"input-title"},"Email:"),r.a.createElement("input",{name:"email",placeholder:"youremail@youreprovider.com",className:"mdb-input ".concat(c&&t.length>0&&!this.isEmailCorrect()?"error-input":""),value:t,onKeyUp:this.onEnter,onChange:this.setFieldValue,onBlur:this.setBlured})),("registration"===o||"login"===o)&&r.a.createElement(ee,null,r.a.createElement("span",{className:"input-title"},"Password:"),r.a.createElement("div",{className:"input-password-block"},r.a.createElement(D.InputText,{name:"password",placeholder:"Password",className:"mdb-input ".concat(u&&a.length>0&&!this.isPasswordCorrect()?"error-input":""),ref:this.setPasswordInputRef,type:l?"text":"password",value:a,onKeyUp:this.onEnter,onChange:this.setFieldValue,onBlur:this.setBlured}),r.a.createElement(w.Button,{icon:l?"far fa-eye":"far fa-eye-slash",tabIndex:"-1",onClick:this.togglePasswordVisible}))),"registration"===o&&r.a.createElement(ee,null,r.a.createElement("span",{className:"input-title"},"Confirm New Password:"),r.a.createElement("div",{className:"input-password-block"},r.a.createElement(D.InputText,{name:"confirmPassword",placeholder:"Password",className:"mdb-input ".concat(d&&n.length>0&&!this.isPasswordsSame()?"error-input":""),ref:this.setConfirmPasswordInputRef,type:s?"text":"password",value:n,onKeyUp:this.onEnter,onChange:this.setFieldValue,onBlur:this.setBlured}),r.a.createElement(w.Button,{icon:s?"far fa-eye":"far fa-eye-slash",tabIndex:"-1",onClick:this.toggleConfirmPasswordVisible}))),"registration"===o&&r.a.createElement(ne,null,r.a.createElement("p",null,"Already have a MindsDB Cloud account?",r.a.createElement("a",{href:"#/",role:"button",onClick:this.goToLoginStage},"\xa0Please Log In"))),r.a.createElement(ae,null,"registration"===o&&r.a.createElement("div",null,r.a.createElement(w.Button,{type:"button",className:"minds-action-btn",label:"SIGN UP",ref:this.setSignUpButtonRef,icon:m?"pi pi-spin pi-spinner":"fas fa-address-card",onClick:this.onSignUp,disabled:m}),r.a.createElement(A,{onClick:this.onGitHubLogin,label:"SIGN UP WITH GITHUB",disabled:m})),"login"===o&&r.a.createElement("div",null,r.a.createElement(w.Button,{type:"button",className:"minds-action-btn",label:"LOG IN",ref:this.setLogInButtonRef,icon:m?"pi pi-spin pi-spinner":"fas fa-cloud",onClick:this.onLogin,disabled:m}),r.a.createElement(A,{onClick:this.onGitHubLogin,disabled:m}))),r.a.createElement(ne,null,"login"===o&&r.a.createElement("p",null,"Need a MindsDB Cloud account?",r.a.createElement("a",{href:"#/",role:"button",onClick:this.goToRegistrationStage},"\xa0Create an account"))),"logged"===o&&r.a.createElement(oe,null,r.a.createElement(w.Button,{type:"button",className:"minds-action-btn red",label:"Logout",onClick:this.onDisconnect,icon:"fas fa-ban",disabled:m}),r.a.createElement("p",null,"Enjoying MindsDB?",r.a.createElement("a",{href:"#/",role:"button",onClick:this.goToGithub},"\xa0Star us on Github !")))))))}}]),a}(n.Component))||X,le=(a(480),{black:"black",white:"#fff",mirage:"#2c263f",green:"#26b873",slateGrey:"#5d6970",gray:"#939ea4",selectedBreacump:"#00b06d",primaryBar:"#4dd9ca",hoverBar:"#099ebd",watermelon:"#f25c63",yellow:"#eecc58",BlackPie:"#333333"}),se="Rubik Medium",ce=" 'Karla', sans-serif";function ue(){var e=Object(k.a)(["\n    display: flex;\n    align-items: center;\n    color: ",";\n    font-family: ",";\n    font-size: 36px;\n    font-weight: 500;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    @media (max-width: 1150px) {\n      font-size: 25px;\n    }\n"]);return ue=function(){return e},e}var de=N.a.span(ue(),le.mirage,se),me=function(e){var t=e.children;return r.a.createElement(de,null,t)};function pe(){var e=Object(k.a)(["\n\tcolor: ",";\n\tfont-family: ",";\n\tfont-size: 14px;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tfont-weight: 500;\n\tletter-spacing: normal;\n\tmargin-top: 3px;\n"]);return pe=function(){return e},e}var fe,he={Connected:le.selectedBreacump,Installing:le.primaryBar,Installed:le.primaryBar,Running:le.selectedBreacump,connected:le.selectedBreacump,Starting:le.selectedBreacump,Disconnected:le.watermelon,disconnected:le.watermelon,"Not installed":le.watermelon},ge=N.a.span(pe(),le.mirage,se),be=N.a.span((function(e){return{marginLeft:"7px",marginTop:"1px",fontFamily:se,fontSize:"14px",fontWeight:"500",color:he[e.children]}})),ve=function(e){var t=e.isconnected,a=e.serverType,n=e.serverStatus,o="local"===a?n:t?"Connected":"Disconnected";return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null,"Status:"),r.a.createElement(be,{serverStatusText:!0},o))},ye=a(27),Ee=function(){var e=Object(n.useState)(localStorage.darkMode),t=Object(ye.a)(e,2),a=t[0],o=t[1],i=function(e){e&&!e.target.checked?(localStorage.darkMode=!1,o(localStorage.darkMode),document.getElementsByTagName("body")[0].style.filter=""):("true"===a||e&&e.target.checked)&&(localStorage.setItem("darkMode",!0),o(localStorage.darkMode),document.getElementsByTagName("body")[0].style.filter="invert(85%) hue-rotate(180deg)")};return Object(n.useEffect)((function(){return i()})),r.a.createElement("div",{className:"dm-items sw-position "},r.a.createElement("span",{className:"dm-tt"},"Dark Mode:"),r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",onChange:function(e){return i(e)},checked:"true"===a&&!0}),r.a.createElement("span",{className:"slider round"})))},we=function(e){var t=e.id,a=void 0===t?"":t,n=e.name,o=void 0===n?"":n,i=e.value,l=void 0===i?"":i,s=e.onChange,c=e.className,u=void 0===c?"":c,d=e.placeholder,m=void 0===d?"":d;return r.a.createElement("input",{id:a,name:o,value:l,onChange:s,className:u,placeholder:m})},xe=Object(g.a)(fe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={url:e.props.connectionStore.url,token:"",pypath:"",serverType:"remote",msgFilter:["info","data","error"],validUrl:!0,loading:!1},e.configUpdateTimeout=null,e.setFieldValue=function(t){var a,n=t.target.name,r=t.target.value;"pypath"===n&&r!==e.state.pypath&&(null!==e.configUpdateTimeout&&clearTimeout(e.configUpdateTimeout),e.configUpdateTimeout=setTimeout((function(){e.configUpdateTimeout=null,e.props.configStore.saveConfig({pypath:r})}),500));var o=!0;"url"!==n||e.isValidUrl(r)||(o=!1),e.setState((a={},Object(v.a)(a,n,r),Object(v.a)(a,"validUrl",o),a))},e.onConnect=function(){var t=e.state,a=t.url,n=t.token,r=t.validUrl,o=e.props,i=o.connectionStore;o.dataSourcesStore.reset(),r&&(localStorage.setItem("apikey",n),i.connect(a,[{key:"apikey",value:n}]))},e.onDisconnect=function(){var t=e.props,a=t.connectionStore,n=t.dataSourcesStore,r=t.predictorsStore;delete localStorage.apikey,a.disconnect(),n.reset(),r.reset()},e.onRunLocalServer=function(){try{e.onStopLocalServer()}catch(t){console.log(t)}setTimeout((function(){e.props.configStore.waitLocalServerStatusUpdate()}),1e3)},e.onStopLocalServer=function(){e.props.configStore.waitLocalServerStatusUpdate()},e.onInstallLocalServer=function(){e.props.configStore.waitLocalServerStatusUpdate()},e.onDeleteLocalServer=function(){e.props.configStore.waitLocalServerStatusUpdate()},e.onChangeServerType=function(t){e.props.connectionStore.connected;e.props.configStore.saveConfig({defaultServerType:t.value}),e.setState({serverType:t.value})},e.onPythonDownloadClick=function(e){e.preventDefault()},e.selectFilter=function(t){var a=e.state.msgFilter,n=a.indexOf(t.name);if(n>=0){var r=Object(b.a)(a);r.splice(n,1),e.setState({msgFilter:r})}else e.setState({msgFilter:[].concat(Object(b.a)(a),[t.name])})},e.openLink=function(e){},e.isValidUrl=function(e){return/^(?:^|\s)((https?:\/\/)?(?:localhost|[\w-]+(?:\.[\w-]+)+)(:\d+)?(\/\S*)?)?$/i.test(e)},e.onCloudConnected=function(t){var a=t.token;e.props.connectionStore.connect(z.cloudUrl,[{key:"apikey",value:a}])},e.setLoading=function(t){e.setState({loading:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.connectionStore,n=t.configStore,o=n.config,i=o.localServerStatus,l=o.waitingLocalServerStatusUpdate,s=a.connected,c=this.state,u=c.validUrl,d=c.serverType,m=c.pypath,p=c.msgFilter,f=c.url,h=c.token,g=c.loading,b="";return b=!1===i.installed&&!1===i.installing?"Not installed":!0===i.installing?"Installing":!0===i.starting?"Starting":!0===i.running?"Running":"Installed",r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"content-dm"},r.a.createElement("div",{className:"dm-items"},r.a.createElement(me,null,"Connection"),r.a.createElement(ve,{isconnected:s,serverType:d,serverStatus:b})),r.a.createElement(Ee,null))),r.a.createElement("div",{className:"main-content__body"},r.a.createElement(x.Panel,{className:"minds-block",style:{margin:20,flex:1,display:"flex",height:"calc(100% - 40px)",overflow:"hidden"}},r.a.createElement("div",{className:"connectionMain"},r.a.createElement("div",null,r.a.createElement("div",{className:"config-holder__local-server-status"}),r.a.createElement("div",{className:"server-buttons"},s&&"remote"===d&&r.a.createElement(w.Button,{className:"minds-action-btn red  ".concat("remote"===d?"abs-btn-position":""),type:"button",label:"DISCONNECT",icon:"fas fa-not-equal",onClick:this.onDisconnect}),r.a.createElement(w.Button,{className:"minds-action-btn ".concat("remote"===d?"abs-btn-position":""),type:"button",label:"CONNECT",icon:"fas fa-exchange-alt",style:{display:!s||"remote"===this.props.configStore.config.defaultServerType&&!s?"block":"none"},onClick:this.onConnect}),i.installed)),r.a.createElement("div",{className:"config-holder",style:{display:"local"===d?"block":"none"}},r.a.createElement("div",{className:"config-holder__local-server-install",style:{display:i.installing||i.installed?"none":"block"}},r.a.createElement(O,null,r.a.createElement("div",{className:"config-holder__local-server-install__pypath"},r.a.createElement("span",{className:"input-title"},"Python Path:"),r.a.createElement("div",{className:"input-container"},r.a.createElement(we,{name:"pypath",placeholder:"",className:"".concat(!1===n.isGoodPython?"error-input":""),value:m,onChange:this.setFieldValue,style:{width:100}}),!0===n.isGoodPython&&r.a.createElement(y.Message,{className:"overwrite-p-message",severity:"success",text:""})),!1===n.isGoodPython&&r.a.createElement("div",null,r.a.createElement("p",{className:"download-python"},"You can download Python\xa0",r.a.createElement("a",{role:"button",href:"https://www.python.org/downloads/",onClick:this.onPythonDownloadClick},"here"))),r.a.createElement("p",null,"At this time, the local server can\u2019t run because it is not installed. This installation will take about five minutes and require at least 1.2 GB of free disk space. During the installation process, significant amounts of data can be downloaded from the internet. Python 3.6 (or higher) is also required to start. Please print path to Python as follows:"),r.a.createElement("a",{href:"/",onClick:function(){return e.openLink("https://community.mindsdb.com/t/how-to-find-python-path-information/37")}},"Where can I find this?")))),r.a.createElement("div",{id:"terminal",className:"server-log__body",style:{display:i.installed||i.installing?void 0:"none"}},n.log.reduce((function(e,t,a){var o=n.log.length-a-1,i=n.log[o],l=document.getElementById("terminal"),s="__msg";return"error"===i.type?i.data.includes("INFO")||(s=i.data.includes("WARNING")||i.data.includes("DEBUG")?"warning":"error"):"info"===i.type&&(s="info"),-1!==p.indexOf(i.type)&&e.push(r.a.createElement("p",{key:o,className:"server-log__body__msg server-log__body__msg-".concat(s)},"$terminal: ".concat(i.data))),l&&(l.scrollTop=l.scrollHeight),e.sort((function(e,t){return e.key-t.key}))}),[])),r.a.createElement("div",{className:"server-buttons"},!0===i.installed&&r.a.createElement(w.Button,{type:"button",className:"minds-action-btn",label:"CONNECT",icon:"fas fa-exchange-alt",onClick:this.onRunLocalServer,disabled:s||i.starting||!1===i.installed||l}),!0===i.running&&r.a.createElement(w.Button,{className:"minds-action-btn red",type:"button",label:"STOP",icon:"fas fa-ban",onClick:this.onStopLocalServer,disabled:l}),!0===i.installed&&r.a.createElement(w.Button,{className:"minds-action-btn red",type:"button",label:"DELETE",icon:"fas fa-link",onClick:this.onDeleteLocalServer,disabled:i.running||i.starting||l})),r.a.createElement("div",{className:"server-log-install",style:{display:i.installed||i.installing?"none":"block"}},!1===i.installed&&r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",label:"INSTALL",icon:"fas fa-link",onClick:this.onInstallLocalServer,disabled:!0===i.installing||!1===n.isGoodPython||l}))),r.a.createElement("div",{className:"config-holder",style:{display:"cloud"===d?"block":"none"}},r.a.createElement(ie,{onConnect:this.onCloudConnected,onSetLoading:this.setLoading,connected:s,loading:g}))),r.a.createElement("div",{className:"remote-inputs"},r.a.createElement("div",{className:"connect-choose",style:{display:"remote"===d?"block":"none"}},r.a.createElement("span",null,"URL"),r.a.createElement(we,{name:"url",placeholder:"url",className:"mdb-input  ".concat(u?"":"inputError"),value:f,onChange:this.setFieldValue}),!u&&r.a.createElement("strong",{className:"valid_url"},"Please enter a valid URL")),r.a.createElement("div",{className:"connect-choose",style:{display:"remote"===d?"block":"none"}},r.a.createElement("span",null,"Token"),r.a.createElement(we,{name:"token",placeholder:"Place Your Token Here",className:"mdb-input",value:h,onChange:this.setFieldValue})),"remote"===d&&r.a.createElement("p",null,"MindsDB can run on a remote computer. All you need to provide is the server URL and a security token (optional).")))))}}]),a}(n.Component))||fe,ke=a(81),Ne=a(382),Se=a(24),Oe=a.n(Se),Ce=a(383),je=function(e){var t=e.onClick,a=e.value,n=e.page,o=function(e,a){t&&t({originalEvent:e,value:a}),e.preventDefault()};return r.a.createElement("div",{className:"minds-paginator-pages"},a.map((function(e,t){var a=Oe()({"minds-highlight":e-1===n});return r.a.createElement("button",{key:e,type:"button",className:a,onClick:function(t){return o(t,e)}},r.a.createElement("span",null," ",e," "))})))},_e=(a(501),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){if(!this.props.alwaysShow&&1===this.getPageCount())return null;var e=Oe()("minds-paginator p-paginator p-component p-unselectable-text",this.props.className),t=[r.a.createElement("button",{key:"FirstPageLink",type:"button",className:"",onClick:this.changePageToFirst,disabled:this.isFirstPage()},r.a.createElement("span",null,"|<")),r.a.createElement("button",{key:"PrevPageLink",type:"button",className:"",onClick:this.changePageToPrev,disabled:this.isFirstPage()},r.a.createElement("span",null,"<")),r.a.createElement(je,{key:"page-links",value:this.updatePageLinks(),page:this.getPage(),onClick:this.onPageLinkClick}),r.a.createElement("button",{key:"NextPageLink",type:"button",onClick:this.changePageToNext,disabled:this.isLastPage()},r.a.createElement("span",null,">")),r.a.createElement("button",{key:"LastPageLink",type:"button",onClick:this.changePageToLast,disabled:this.isLastPage()},r.a.createElement("span",null,">|"))];return r.a.createElement("div",{className:e,style:this.props.style},this.props.leftContent,r.a.createElement("div",{className:"pages"},t))}}]),a}(Ce.Paginator));function De(){var e=Object(k.a)(["\n   display: flex;\n    margin-left: 30px;\n    overflow: hidden;\n    .option {\n        border-width: 0px;\n        outline: transparent;\n        background-color: white;\n        flex: 1;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        min-width: 84px;\n        height: 17px;\n        padding: 2px 0 0 0;\n\n        font-size: 10px;\n        font-family: ",";\n        font-weight: bold;\n        font-stretch: normal;\n        font-style: normal;\n        letter-spacing: normal;\n        text-align: center;\n\n        cursor: pointer;\n        transition: color 0.3s;\n        color: ",";\n        &:hover {\n            color: ",";\n        };\n\n        position: relative;\n        margin-bottom: 3px;;\n        &:last-child {\n            margin-right: 3px;\n        }\n        &:first-of-type {\n            margin-left: 3px;\n        }\n        &:not(:first-of-type) {\n            margin-left: 2px;\n        }\n        &.selected::after {\n            border-color: $color-shamrock;\n            z-index: 2;\n        }\n        &.selected {\n            color: $color-shamrock;\n            border-color: green;\n        }\n        &::after {\n            content: '';\n            z-index: 1;\n            position: absolute;\n            display: flex;\n            left: 0px;\n            top: 0px;\n            width: 100%;\n            height: 100%;\n            box-sizing: content-box;\n            box-shadow: 0px 0px 1px 2px;\n            border-top-width: 0;\n            transition: border-color 0.3s;\n        }\n        &:first-of-type::after {\n            border-bottom-left-radius: 3px;\n        }\n        &:last-child::after {\n            border-bottom-right-radius: 3px;\n        }\n    }\n"]);return De=function(){return e},e}var Pe=N.a.div(De(),se,le.gray,le.selectedBreacump),Fe=function(e){var t=e.options,a=e.onSelect;return r.a.createElement(Pe,null,t.map((function(e,t){return r.a.createElement("button",{className:e.selected?"option selected":"option",key:"key-".concat(t),type:"button",onClick:function(){a(e)}},"".concat(e.name).toUpperCase())})))},Te=(a(502),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"createPaginator",value:function(e,t,a){var n=this,o="minds-navigator p-paginator-".concat(e),i=this.getRows(),l=this.props.rowsPerPageOptions.map((function(e){return{name:e,selected:e===i}})),s=r.a.createElement(Fe,{options:l,onSelect:function(e){var a=parseInt(e.name,10);n.onPageChange({first:0,rows:a,page:0,pageCount:Math.ceil(t/a)||1})}});return r.a.createElement(_e,{first:this.getFirst(),rows:this.getRows(),pageLinkSize:this.props.pageLinkSize,className:o,onPageChange:this.onPageChange,template:this.props.paginatorTemplate,totalRecords:t,rowsPerPageOptions:null,currentPageReportTemplate:this.props.currentPageReportTemplate,leftContent:s,rightContent:this.props.paginatorRight,alwaysShow:this.props.alwaysShowPaginator})}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.resizableColumns,o=a.responsive,i=a.columnResizeMode,l=a.virtualScroll,s=a.scrollable,c=a.autoLayout,u=a.selectionMode,d=a.paginator,m=a.paginatorPosition,p=a.header,f=a.footer,h=a.reorderableColumns,g=a.loading,b=a.frozenHeaderColumnGroup,v=a.frozenFooterColumnGroup,y=a.headerColumnGroup,E=a.footerColumnGroup,w=a.tableStyle,x=a.tableClassName,k=a.id,N=a.headerHeight,S=this.processData(),O=this.getColumns(),C=this.getTotalRecords(S),j=Oe()("p-datatable p-component",{"p-datatable-responsive":o,"p-datatable-resizable":n,"p-datatable-resizable-fit":n&&"fit"===i,"p-datatable-scrollable":s,"p-datatable-virtual-scrollable":l,"p-datatable-auto-layout":c,"p-datatable-hoverable-rows":u},this.props.className),_=d&&"bottom"!==m&&this.createPaginator("top",C),D=d&&"top"!==m&&this.createPaginator("bottom",C),P=p&&r.a.createElement("div",{className:"p-datatable-header"},p),F=f&&r.a.createElement("div",{className:"p-datatable-footer"},f),T=n&&r.a.createElement("div",{ref:function(e){t.resizerHelper=e},className:"p-column-resizer-helper p-highlight",style:{display:"none"}}),L=null,B=h&&r.a.createElement("span",{ref:function(e){t.reorderIndicatorUp=e},className:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:{position:"absolute",display:"none"}}),I=h&&r.a.createElement("span",{ref:function(e){t.reorderIndicatorDown=e},className:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:{position:"absolute",display:"none"}});if(g&&(e=this.renderLoader()),Array.isArray(O))if(s){this.frozenSelectionMode=this.frozenSelectionMode||this.getFrozenSelectionModeInColumn(O);var R,A,M=this.getFrozenColumns(O),U=M?this.getScrollableColumns(O):O;M&&(R=this.createScrollableView(S,M,!0,b,v,C)),A=this.createScrollableView(S,U,!1,y,E,C),L=r.a.createElement("div",{className:"p-datatable-scrollable-wrapper"},R,A)}else{var W=this.createTableHeader(S,O,y),V=this.createTableBody(S,O),z=this.createTableFooter(O,E);L=r.a.createElement("div",{className:"p-datatable-wrapper"},r.a.createElement("table",{style:w,className:x,ref:function(e){t.table=e}},W,z,V))}return r.a.createElement("div",{id:k,className:j,style:this.props.style},r.a.createElement("div",{className:"p-datatable-outer-wrapper",style:{paddingTop:N?this.props.className.includes("stripped")?N+45:N:0},ref:function(e){t.container=e}},e,P,_,L,F,T,B,I),D)}}]),a}(Ne.DataTable)),Le=a(41),Be=a(136),Ie=(a(505),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",url:"",importing:!1,validUrl:!0},e.onShow=function(){e.setState({name:"",url:"",importing:!1,validUrl:!0})},e.onAdd=Object(_.a)(j.a.mark((function t(){var a,n,r,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.name,r=a.url,o=M.a.DataSource({name:n}),e.setState({importing:!0}),t.prev=3,t.next=6,o.uploadFromUrl(r);case 6:(0,e.props.onHide)(!0),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.setState({importing:!1});case 13:case"end":return t.stop()}}),t,null,[[3,10]])}))),e.isValidUrl=function(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},e.setFieldValue=function(t){var a;"url"!==t.target.name||e.isValidUrl(t.target.value)?e.setState((a={},Object(v.a)(a,t.target.name,t.target.value),Object(v.a)(a,"validUrl",!0),a)):e.setState({validUrl:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.url,n=e.importing,o=e.validUrl,i=!t||!a||!o,l=n?"Importing data source":"New data source from url";return r.a.createElement(Le.Dialog,{visible:this.props.visible,onShow:this.onShow,onHide:this.props.onHide,modal:!0,header:l,className:"minds-upload-source"},n?r.a.createElement(Be.ProgressBar,{mode:"indeterminate"}):r.a.createElement("div",null,r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon minds-inputgroup-addon"},"Name:"),r.a.createElement(D.InputText,{name:"name",placeholder:"Name your new dataset",onChange:this.setFieldValue})),r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon minds-inputgroup-addon"},"URL:"),r.a.createElement(D.InputText,{name:"url",placeholder:"https://example.com/myFile.csv",className:o?"":"inputError",onChange:this.setFieldValue})),!o&&r.a.createElement("div",{className:"errorText"},"Please enter a valid Url"),r.a.createElement("div",{className:"separate-btns"},r.a.createElement(w.Button,{className:"minds-action-btn red",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"CANCEL")),onClick:this.props.onHide}),r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"ADD")),onClick:this.onAdd,disabled:i}))))}}]),a}(n.Component)),Re=a(55),Ae=(a(506),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",file:null,uploading:!1,percentCompleted:0},e.onShow=function(){e.setState({uploading:!1,name:"",file:null})},e.onUpload=Object(_.a)(j.a.mark((function t(){var a,n,r,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state,n=a.name,r=a.file,o=M.a.DataSource({name:n}),e.setState({uploading:!0,percentCompleted:0},Object(_.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.upload(r,e.onUploadProgress);case 3:I.track("File uploaded"),(0,e.props.onHide)(!0,n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),Re.a(t.t0),e.setState({uploading:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))));case 3:case"end":return t.stop()}}),t)}))),e.onUploadProgress=function(t){e.setState({percentCompleted:t})},e.onPickFile=function(t){if(t.target.files&&t.target.files.length){var a=t.target.files[0];e.setState({file:a})}else e.setState({file:null})},e.setFieldValue=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.file,n=e.uploading,o=e.percentCompleted,i=!t||!a,l=n?"Uploading ...":"New Datasource",s=a?"":"minds-file-input-value__empty",c=a?a.name:"Click Here to Choose a File.";return r.a.createElement(Le.Dialog,{visible:this.props.visible,onHide:this.props.onHide,onShow:this.onShow,modal:!0,header:l,className:"minds-upload-source"},n?r.a.createElement(Be.ProgressBar,{value:o,unit:"% Analysing data"}):r.a.createElement("div",null,r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon minds-inputgroup-addon"},"File:"),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{className:"minds-file-input-value ".concat(s)},c),r.a.createElement("input",{title:c,placeholder:"fileTitle",type:"file",id:"file-input",className:"minds-file-input mdb-input",onChange:this.onPickFile}))),r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon minds-inputgroup-addon"},"Name:"),r.a.createElement(D.InputText,{name:"name",className:"minds-input mdb-input",placeholder:"Name Your New Datasource",value:this.state.name,onChange:this.setFieldValue,maxLength:"100"})),r.a.createElement("div",{className:"separate-btns"},r.a.createElement(w.Button,{className:"minds-action-btn red",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"CANCEL")),onClick:this.props.onHide}),r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"UPLOAD")),onClick:this.onUpload,disabled:i}))))}}]),a}(n.Component)),Me=(a(507),function(e){return r.a.createElement(Le.Dialog,{visible:e.visible,onHide:e.onHide,modal:!0,header:"Delete Datasource",className:"minds-upload-source"},r.a.createElement("span",null,"Are you sure want to delete datasource '",e.name,"'?"),r.a.createElement("div",{className:"separate-btns"},r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",label:"CANCEL",onClick:e.onHide}),r.a.createElement(w.Button,{className:"minds-action-btn red",type:"button",label:"DELETE",onClick:function(){e.onDelete(e.name)}})))});Me.defaultProps={name:null};var Ue=Me,We=function(e){if(!e||!e.x||!e.y)return[];for(var t,a=[],n=0;n<e.x.length;n++)a.push({x:(t=e.x[n],isNaN(t)?t:t%1===0?parseInt(t,10):parseFloat(parseFloat(t).toFixed(2))),y:e.y[n]});a.sort((function(e,t){return e.x<t.x?-1:e.x===t.x?0:1}));for(var r=0;r<a.length;r++)e.x[r]=a[r].x,e.y[r]=a[r].y;var o=e.x,i=e.y;if("categorical"===e.type&&2===e.x.length&&2===e.y.length&&"x"===e.x[0]&&"y"===e.x[1]){var l=i,s=Object(ye.a)(l,2);o=s[0],i=s[1]}return o.map((function(e,t){return{x:e,y:i[t]}}))},Ve=function(e){var t=e.unique,a=e.empty,n=e.bias,r=e.outliers,o=e.typing,i=o&&"Text"!==o.data_type;return{unique:!(!t||1!==t.unique_values||!i),empty:!!(a&&a.empty_percentage>.05&&i),bias:!!(n&&n.entropy<.8&&i&&"Numeric"!==o.data_type),outliers:!!(r&&r.outlier_buckets.length>0&&i)}},ze=function(e,t){return e.map((function(e){return e.hasOwnProperty(t)?e[t]:null}))},He=function(e){return new Date(e).toLocaleDateString("en-US")+" "+new Date(e).toLocaleTimeString("en-US")},qe=function(e){var t=e.map((function(e){return parseFloat(e)}));if(t%2===1)return e[Math.floor(t.length/2)+1].toFixed(2);var a=Math.floor(t.length/2),n=Math.floor(t.length/2),r=Math.min(t[a],t[n]),o=Math.max(t[a],t[n]);return isNaN(r+(o-r)/2)?void 0:(r+(o-r)/2).toFixed(2).toString()},Qe=function(e,t,a,n,r){e.show({severity:t,summary:a,detail:n,sticky:r})},Ge=(a(508),function(e){var t=e.noneBorder,a=e.topMessage,n=e.customIcon,o=e.bottomMessage,i=e.isHasButton,l=e.customBtnPosition,s=e.inProgressText,c=(e.inProgressLink,e.inProgressTextLink);return r.a.createElement("div",{className:"empty-page-container ".concat(t?"":"border-container")},r.a.createElement("div",{className:"message"},r.a.createElement("strong",null,a,"\xa0"),r.a.createElement("i",{className:"fas ".concat(n||"fa-user-astronaut"," ")}),r.a.createElement("strong",{className:"text-width"},o),r.a.createElement("div",{className:"more-information"},s&&r.a.createElement("p",{className:"text-in-progress"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"}),s),r.a.createElement("a",{href:"#/",onClick:function(e){e.preventDefault()},className:"text-width"},c))),i&&r.a.createElement("button",{className:"btn-report",style:{margin:l},onClick:function(e){e.preventDefault()}},r.a.createElement("i",{className:"fas fa-bug"}),"Report"," "))});Ge.defaultProps={noneBorder:"",topMessage:"",customIcon:"",bottomMessage:"",customBtnPosition:"",isHasButton:!1};var $e=Ge,Ke=function e(){var t=this;Object(s.a)(this,e),this.dataSource=null,this.dataSourceId=null,this.fields=[],this.data=[],this.total=0,this.rows=200,this.first=0,this.page=0,this.sort={},this.filters={},this.loading=!1,this.loaded=!1,this.loadTimeout=null,this.reset=function(){t.loading=!1,t.loaded=!1,t.data=[],t.total=0,t.rows=200,t.first=0,t.page=0,t.sort={},t.filters={}},this.updatePage=function(e){var a=e.rows,n=e.page;t.rows=a,t.page=n,t.load({reload:!0})},this.updateSort=function(e){var a=e.sortField,n=e.sortOrder;t.sort={sortField:a,sortOrder:n},t.load({reload:!0})},this.updateFilter=function(e){t.filters=Object.keys(e).reduce((function(t,a){return t[a]={value:e[a].value},t}),{}),null!=t.loadTimeout&&clearTimeout(t.loadTimeout),t.loadTimeout=setTimeout((function(){t.loadTimeout=null,t.page=0,t.load({reload:!0})}),500)},this.setDataSource=function(e){t.reset(),t.dataSource=e,t.dataSourceId=e.name,t.fields=e.columns,t.load()},this.load=Object(_.a)(j.a.mark((function e(){var a,n,r,o,i,l=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>0&&void 0!==l[0]?l[0]:{reload:!1},n=a.reload,r=void 0!==n&&n,null!=t.loadTimeout&&clearTimeout(t.loadTimeout),!t.loaded||!0===r){e.next=4;break}return e.abrupt("return",null);case 4:return t.loading=!0,e.prev=5,o=t.getTableQueryParams(),e.next=9,t.dataSource.loadData(o);case 9:i=e.sent,Object(m.n)((function(){for(var e in i.data)for(var a in i.data[e])if(a.includes(".")){var n=a.replace(/\./g,"_");i.data[e][n]=i.data[e][a],delete i.data[e][a]}t.data=i.data,t.total=i.rowcount,t.first=t.page*t.rows,t.loading=!1})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),Object(m.n)((function(){t.loading=!1}));case 16:case"end":return e.stop()}}),e,null,[[5,13]])}))),this.getTableQueryParams=function(){var e=[{key:"page[size]",value:t.rows},{key:"page[offset]",value:t.page*t.rows},{key:"t",value:(new Date).getTime()}];return Object.keys(t.filters).forEach((function(a){"value"in t.filters[a]&&"string"===typeof t.filters[a].value&&t.filters[a].value.length>0&&e.push({key:"filter[".concat(a,"]"),value:t.filters[a].value})})),e}};Object(m.h)(Ke,{dataSource:m.m,dataSourceId:m.m,fields:m.m,data:m.m,total:m.m,rows:m.m,first:m.m,page:m.m,sort:m.m,filters:m.m,loading:m.m,loaded:m.m,reset:m.d,updatePage:m.d,updateSort:m.d,updateFilter:m.d,setDataSource:m.d,load:m.d});var Ye=new Ke,Je=function(){function e(){Object(s.a)(this,e),this.dataSourceName=null,this.data=null,this.dataSource=null,this.loading=!1,this.loaded=!1,this.analyzeStatus="analyzing"}return Object(c.a)(e,[{key:"loadDataQuality",value:function(){var e=Object(_.a)(j.a.mark((function e(t,a){var n,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dataSourceName=t.name,this.dataSource=t,this.loading=!0,this.analyzeStatus="analyzing",e.prev=4,e.next=7,t.loadDataQuality(a);case 7:if("analyzing"!==(n=e.sent).status){e.next=10;break}return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(r.loadDataQuality(t,a))}),5e3)})));case 10:Object(m.n)((function(){r.data=n,r.loading="analyzing"===r.data.status,r.loaded=!0,r.analyzeStatus=r.data.status})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),Object(m.n)((function(){return r.loading=!1}));case 16:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();Object(m.h)(Je,{dataSourceName:m.m,data:m.m,dataSource:m.m,loading:m.m,loaded:m.m,loadDataQuality:m.d});var Xe=new Je,Ze=function(){function e(){Object(s.a)(this,e),this.data={},this.loading=!1,this.loaded=!1}return Object(c.a)(e,[{key:"loadPreview",value:function(){var e=Object(_.a)(j.a.mark((function e(t,a){var n,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.data=t,this.loading=!0,e.prev=2,e.next=5,t.load(a);case 5:n=e.sent,Object(m.n)((function(){r.data=n,r.loading=!1,r.loaded=!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Object(m.n)((function(){r.loading=!1}));case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();Object(m.h)(Ze,{data:m.m,loading:m.m,loaded:m.m,loadPreview:m.d});var et=new Ze,tt=function(){function e(){Object(s.a)(this,e),this.stage="empty",this.dataSource=null,this.predictor=null,this.queryPredictorName=null,this.predictorDataQualityCol=null}return Object(c.a)(e,[{key:"setStage",value:function(e){this.stage=e,this.predictorDataQualityCol=null}},{key:"openDataPreview",value:function(e){Ye.setDataSource(e),this.stage="dataSourcePreview",this.dataSource=e,this.predictorDataQualityCol=null}},{key:"openDataQuality",value:function(e,t){Xe.loadDataQuality(e,t),this.stage="dataSourceQuality",this.dataSource=e,this.predictorDataQualityCol=null}},{key:"openPredictor",value:function(e,t){et.loadPreview(e,t),this.stage="predictorView",this.dataSource=null,this.predictor=e,this.predictorDataQualityCol=null}},{key:"openQuery",value:function(e){this.queryPredictorName=e,this.stage="query",this.predictorDataQualityCol=null}},{key:"openPredictorDataQuality",value:function(e){this.stage="predictorDataQuality",this.predictorDataQualityCol=e}}]),e}();Object(m.h)(tt,{stage:m.m,dataSource:m.m,predictor:m.m,queryPredictorName:m.m,predictorDataQualityCol:m.m,setStage:m.d,openDataPreview:m.d,openDataQuality:m.d,openPredictor:m.d,openQuery:m.d,openPredictorDataQuality:m.d});var at,nt=new tt,rt=(a(509),Object(g.a)(at=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={urlWinVisible:!1,uploadWinVisible:!1,deleteWinVisible:!1,deletingName:null,thWidths:null,thHeight:null},e.interval=null,e.onResize=function(){var t=e.wrapperRef.querySelector(".p-datatable-row"),a=null,n=null;if(t){a=new Array(t.children.length);for(var r=0;r<t.children.length;r++)a[r]=t.children[r].getClientRects()[0].width}var o=e.wrapperRef.querySelector(".p-datatable-thead > tr");o&&(n=o.getBoundingClientRect().height),e.setState({thWidths:a,thHeight:n})},e.fileReadingPromises={},e.onFileReaded=function(){var t=Object(_.a)(j.a.mark((function t(a,n){var r,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n.err){t.next=3;break}return n.err,t.abrupt("return");case 3:return r=new Blob([n.file]),t.next=6,M.a.DataSource({name:n.datasourceName}).uploadFile({column:n.columnName,rowIndex:n.index,extension:n.extension,file:r});case 6:o="".concat(n.datasourceName,":").concat(n.columnName,":").concat(n.index),e.fileReadingPromises[o](),delete e.fileReadingPromises[o];case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.reload=Object(_.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.dataSourcesStore,t.next=3,a.load();case 3:case"end":return t.stop()}}),t)}))),e.hideUrlWin=function(t){e.setState({urlWinVisible:!1}),t&&e.reload()},e.showUrlWin=function(){e.setState({urlWinVisible:!0}),I.track("Datasources > Upload By Url")},e.hideUploadWin=function(){var t=Object(_.a)(j.a.mark((function t(a,n){var r,o,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({uploadWinVisible:!1}),"boolean"!==typeof a||!0!==a){t.next=17;break}return t.next=4,e.reload();case 4:if(null!=(r=e.props.dataSourcesStore.getByName(n))){t.next=7;break}throw new Error("".concat(e.constructor.name,".hideUploadWin: cant find DS with name ").concat(n));case 7:if(!0!==r.missed_files){t.next=17;break}return t.next=10,r.loadMissedFileList();case 10:o=j.a.mark((function t(a){var n,o,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.missedFileList.data[a].path,n=r.name,o=r.missedFileList.data[a].column_name,i=r.missedFileList.data[a].index,t.next=6,new Promise((function(t){e.fileReadingPromises["".concat(n,":").concat(o,":").concat(i)]=t}));case 6:t.sent;case 8:case"end":return t.stop()}}),t)})),i=0;case 12:if(!(i<r.missedFileList.data.length)){t.next=17;break}return t.delegateYield(o(i),"t0",14);case 14:i++,t.next=12;break;case 17:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.showUploadWin=function(){e.setState({uploadWinVisible:!0}),I.track("Datasources > Upload File")},e.showDeleteWin=function(t){e.setState({deleteWinVisible:!0,deletingName:t})},e.hideDeleteWin=function(){e.setState({deleteWinVisible:!1,deletingName:null})},e.actionTemplate=function(t,a){return r.a.createElement("div",{className:"minds-table__actions"},r.a.createElement(w.Button,{type:"button",className:"minds-action-btn lg-btn",label:"QUALITY",onClick:function(e){e.preventDefault(),e.stopPropagation(),nt.openDataQuality(t),I.track("Datasources > Quality")}}),r.a.createElement(w.Button,{type:"button",className:"minds-action-btn lg-btn",label:"PREVIEW",onClick:function(e){e.preventDefault(),e.stopPropagation(),nt.openDataPreview(t),I.track("Datasources > Preview")}}),r.a.createElement(w.Button,{type:"button",className:"minds-action-btn sm-btn",label:r.a.createElement("span",{className:"minds-action-btn__icon"},r.a.createElement("i",{className:"fas fa-download"})),onClick:function(a){a.preventDefault(),a.stopPropagation(),e.props.dataSourcesStore.download({name:t.name,source_type:t.source_type,source:t.source}),I.track("Datasources > Download")}}),r.a.createElement(w.Button,{type:"button",className:"minds-action-btn red",label:r.a.createElement("span",{className:"minds-action-btn__icon"},r.a.createElement("i",{className:"fas fa-trash"})),onClick:function(a){a.preventDefault(),a.stopPropagation(),e.showDeleteWin(t.name),I.track("Datasources > Delete")}}))},e.onDeleteDatasource=function(t){e.props.dataSourcesStore.delete({name:t}),e.hideDeleteWin()},e.onSelectionChange=function(e){nt.openDataQuality(e.value)},e.dtTemplate=function(e,t){return"string"!==typeof e[t.field]?e[t.field]:He(e[t.field])},e.sourceTemplate=function(e,t){if("file"!==e.source_type||"string"!==typeof e[t.field])return e[t.field];var a=e[t.field].split("/");return a[a.length-1]},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.dataSourcesStore;!1===e.loaded&&!1===e.loading&&e.load(),this.interval=setInterval((function(){!1===e.loading&&e.load()}),5e3)}},{key:"componentDidMount",value:function(){this.resizeObserver=new ResizeObserver(this.onResize),this.mutationObserver=new MutationObserver(this.onResize),this.resizeObserver.observe(this.wrapperRef),this.mutationObserver.observe(this.wrapperRef,{childList:!0,subtree:!0})}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect(),this.mutationObserver.disconnect(),clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.props.dataSourcesStore,a=this.state,n=a.thWidths,o=a.thHeight,i=[{field:"name",header:"NAME",class:"name"},{field:"source",header:"SOURCE",body:this.sourceTemplate},{field:"row_count",header:"ROWS",class:"rows"},{field:"created_at",header:"DATE ADDED",body:this.dtTemplate,class:"added"}].map((function(e,t){return r.a.createElement(ke.Column,Object.assign({key:e.field},e,{sortable:!0,className:e.class,headerStyle:{width:n?n[t]:void 0,maxWidth:n?n[t]:void 0}}))}));return i.push(r.a.createElement(ke.Column,{body:this.actionTemplate,key:"actions-column",style:{textAlign:"center",width:"12em"}})),r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"content-dm"},r.a.createElement("div",{className:"dm-items"},r.a.createElement(me,null,"Datasets")),r.a.createElement(Ee,null))),r.a.createElement("div",{className:"main-content__body table-fit-scroll",style:{paddingBottom:"6rem",overflow:0===t.data.length?"hidden":"auto"},ref:function(t){e.wrapperRef=t}},0===t.data.length?r.a.createElement($e,{topMessage:"There is nothing here yet.",bottomMessage:"Upload your first datasource to begin"}):r.a.createElement(Te,{value:t.data,headerHeight:o,className:"minds-table card datasources-datatable",selectionMode:"single",onSelectionChange:this.onSelectionChange,loading:t.loading},i),r.a.createElement(Ie,{visible:this.state.urlWinVisible,onHide:this.hideUrlWin}),r.a.createElement(Ae,{visible:this.state.uploadWinVisible,onHide:this.hideUploadWin}),r.a.createElement(Ue,{visible:this.state.deleteWinVisible,onHide:this.hideDeleteWin,onDelete:this.onDeleteDatasource,name:this.state.deletingName})),r.a.createElement("div",{className:"fixed-buttons"},r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",icon:"fas fa-dolly-flatbed",label:"     UPLOAD",onClick:this.showUploadWin}),r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",icon:"fas fa-link",label:"ADD BY URL",onClick:this.showUrlWin}),r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",icon:"fas fa-redo",label:"REFRESH",onClick:this.reload})))}}]),a}(n.Component))||at),ot=a(384);function it(){var e=Object(k.a)(["\n  .p-messages-close-icon,\n  .p-messages-icon::before,\n  .p-messages-wrapper {\n    color: white;\n  }\n  .p-messages .p-messages-close  {\n    top: 1rem;\n    right: 1rem;\n  }\n  .p-messages.p-messages-success {\n    background-color: ",";\n    margin: 20px;\n  }\n  .p-messages.p-messages-error {\n    background-color: ",";\n    margin: 20px;\n  }\n  .p-messages.p-messages-warn {\n    background-color: ",";\n    margin: 20px;\n  }\n  .p-messages.p-messages-info {\n    background-color: ",";\n    margin: 20px;\n  }\n"]);return it=function(){return e},e}var lt=Object(N.a)(ot.Messages)(it(),le.selectedBreacump,le.watermelon,le.yellow,le.hoverBar),st=function(e){var t=e.refElement;return r.a.createElement(lt,{ref:t})},ct=a(128),ut=a(63);function dt(){var e=Object(k.a)(["\n  display: inline-block;\n  font-family: Karla;\n  font-size: 16px;\n  line-height: 16px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  margin-right: 20px;\n  &:not(:first-of-type)::before {\n    content: '>';\n    margin-right: 20px;\n  }\n"]);return dt=function(){return e},e}function mt(){var e=Object(k.a)(["\n  display: grid;\n  justify-content: center;\n  grid-template-columns: repeat(2, 1fr);\n  column-gap: 10px;\n"]);return mt=function(){return e},e}function pt(){var e=Object(k.a)(["\n  color: ",";\n  border: none;\n  background-color: #fff;\n  padding: 0;\n  text-align: left;\n  width: 100%;\n  font-weight: 700;\n  margin-bottom: 10px;\n"]);return pt=function(){return e},e}var ft=N.a.span(pt(),le.mirage),ht=N.a.div(mt()),gt=(N.a.div(dt()),a(515),function(e){var t=e.visible,a=e.onHide,o=e.isEdit,i=e.showMessage,l=Object(n.useState)(""),s=Object(ye.a)(l,2),c=s[0],u=s[1];Object(n.useEffect)((function(){u(o.type)}),[o]);var d=ct.b().shape({user:ct.c().required("user is required"),password:ct.c(),host:ct.c().required("host is required"),DatabaseName:ct.c().required("Database name is required"),port:ct.a().typeError("port must be a number").positive("port must be greater than zero").max(65353).required("port is required")});return r.a.createElement(Le.Dialog,{visible:t,onShow:function(){console.log("onShow")},onHide:a,modal:!0,header:"Connect to Database",className:"minds-database-source"},r.a.createElement(ut.d,{initialValues:{user:o.user||"",password:o.password||"",DatabaseName:o.database_name||"",port:o.port||"",host:o.host||""},validationSchema:d,onSubmit:function(){var e=Object(_.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{enabled:!0,host:t.host,password:t.password,port:t.port,type:c,database_name:t.DatabaseName,user:t.user}},e.next=3,M.a.DataBase().create(n);case 3:a(),i("success","Data base created");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(ut.c,null,r.a.createElement(ht,null,r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement(ft,{htmlFor:"UserName"},"Supported Databases: "),r.a.createElement(E.Dropdown,{className:"mdb-select",required:!0,options:[{label:"ClickHouse",value:"clickhouse"},{label:"MariaDB",value:"mariadb"}],placeholder:"MySQL, MariaDB and more \u2026",value:c,onChange:function(e){return u(e.target.value)}}))),r.a.createElement(ht,null,r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement(ft,null,"Host:"),r.a.createElement(ut.b,{className:"form-control",name:"host",placeholder:"localhost",type:"text"}),r.a.createElement(ut.a,{name:"host",component:"div",className:"field-error text-danger"})),r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement(ft,null,"Port:"),r.a.createElement(ut.b,{className:"form-control",name:"port",placeholder:"3306",type:"text"}),r.a.createElement(ut.a,{name:"port",component:"div",className:"field-error text-danger"}))),r.a.createElement("div",null,r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement(ft,null,"Database Name:"),r.a.createElement(ut.b,{className:"form-control",name:"DatabaseName",placeholder:"Username",type:"text"}),r.a.createElement(ut.a,{name:"DatabaseName",component:"div",className:"field-error text-danger"}))),r.a.createElement(ht,null,r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement(ft,null,"Username:"),r.a.createElement(ut.b,{className:"form-control",name:"user",placeholder:"root",type:"text"}),r.a.createElement(ut.a,{name:"user",component:"div",className:"field-error text-danger"})),r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement(ft,null,"Password:"),r.a.createElement(ut.b,{className:"form-control",name:"password",placeholder:"",type:"password"}),r.a.createElement(ut.a,{name:"password",component:"div",className:"field-error text-danger"}))),r.a.createElement("div",null,r.a.createElement("div",{className:"separate-btns"},r.a.createElement(w.Button,{className:"minds-action-btn red",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"CANCEL")),onClick:a}),r.a.createElement(w.Button,{className:"minds-action-btn",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"CREATE")),type:"submit",disabled:!1}))))))}),bt=a(388),vt=a.n(bt),yt=a(296);a(516),a(517),a(518),a(519),a(520);function Et(){var e=Object(k.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20px;\n"]);return Et=function(){return e},e}function wt(){var e=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n\n  button {\n    margin-top: 10px;\n  }\n"]);return wt=function(){return e},e}function xt(){var e=Object(k.a)(["\n  width: 380px;\n"]);return xt=function(){return e},e}function kt(){var e=Object(k.a)(["\n  display: flex;\n"]);return kt=function(){return e},e}var Nt=N.a.div(kt()),St=N.a.div(xt()),Ot=N.a.div(wt()),Ct=N.a.div(Et()),jt=function(e){var t=e.visible,a=e.onHide,o=e.isEdit,i=Object(n.useState)(""),l=Object(ye.a)(i,2),s=l[0],c=l[1],u=Object(n.useState)(""),d=Object(ye.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(""),h=Object(ye.a)(f,2),g=h[0],b=h[1];Object(n.useEffect)((function(){p(o.db_name)}),[o]);var v=function(){var e=Object(_.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:s,integration_id:o.database_name,name:o.database_name},e.next=3,M.a.DataBase().newDataset(t).then((function(e){"Error"===e.name||I.track("Databases > Create Dataset"),a()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(_.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.DataBase().check(o).then((function(e){b(e.data?"Connection OK":"Connection Failed")})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Le.Dialog,{visible:t,onHide:a,modal:!0,header:"Create Dataset from Database",className:"minds-dialog width-100",style:{width:"750px"}},r.a.createElement(Nt,null,r.a.createElement(St,null,r.a.createElement("div",{className:"minds-dialog__field"},r.a.createElement("label",{htmlFor:"cb3",className:"p-checkbox-label"},"Database"),r.a.createElement(we,{disabled:!0,className:"mdb-input",placeholder:"Database",value:m}))),r.a.createElement(Ot,null,r.a.createElement("div",{className:"minds-dialog__field"},r.a.createElement("label",{htmlFor:"cb5",className:"p-checkbox-label"},"Query:"),r.a.createElement(vt.a,{className:"code-box",value:s,onValueChange:function(e){return c(e)},highlight:function(e){return Object(yt.highlight)(e,yt.languages.sql)},placeholder:"select * from users;",padding:10})),r.a.createElement("span",null,g))),r.a.createElement(Ct,null,r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",label:"TEST",onClick:y}),r.a.createElement(w.Button,{className:"minds-action-btn red",type:"button",label:"CANCEL",onClick:a}),r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",label:"CREATE",onClick:v})))},_t=a(122),Dt=function(e,t){if("file"!==e.source_type||"string"!==typeof e[t.field])return e[t.field];var a=e[t.field].split("/");return a[a.length-1]},Pt=[{field:"type",header:"DATABASE",class:"name"},{field:"host",header:"HOST",body:Dt},{field:"port",header:"PORT",class:"rows"},{field:"user",header:"USERNAME",class:"rows"},{field:"date_last_update",header:"DATE LAST UPDATED",body:Dt,class:"added"}],Ft=function(){var e=Object(n.useState)(!1),t=Object(ye.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!1),l=Object(ye.a)(i,2),s=l[0],c=l[1],u=Object(n.useState)([]),d=Object(ye.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(null),h=Object(ye.a)(f,2),g=h[0],b=h[1],v=Object(n.useState)([]),y=Object(ye.a)(v,2),E=y[0],x=y[1],k=function(){M.a.DataBase().load().then((function(e){if(200===e.status){var t=[];Object(_t.forEach)(e.data,(function(e,a){e.db_name=a,t.push(e)})),p(t)}})).catch((function(e){return Qe(e.error.messages,"error","Something wrong happens with the databases list","",!1)}))};Object(n.useEffect)((function(){return k()}),[]);var N=Pt.map((function(e,t){return r.a.createElement(ke.Column,Object.assign({key:e.field},e,{sortable:!0,className:e.class,headerStyle:{width:void 0,maxWidth:void 0}}))}));N.push(r.a.createElement(ke.Column,{body:function(e,t){return r.a.createElement("div",{className:"minds-table__actions"},r.a.createElement(w.Button,{type:"button",className:"minds-action-btn lg-btn",label:"New dataset",onClick:function(t){t.preventDefault(),t.stopPropagation(),x(e),c(!0)}}),r.a.createElement(w.Button,{type:"button",className:"minds-action-btn lg-btn",label:r.a.createElement("span",{className:"minds-action-btn__icon"},r.a.createElement("i",{className:"fas fa-cog"})),onClick:function(t){t.preventDefault(),t.stopPropagation(),x(e),o(!0),I.track("Databases > Edit")}}),r.a.createElement(w.Button,{type:"button",className:"minds-action-btn red",label:r.a.createElement("span",{className:"minds-action-btn__icon"},r.a.createElement("i",{className:"fas fa-trash"})),onClick:function(t){return function(t){t.preventDefault(),t.stopPropagation(),I.track("Databases > Delete"),M.a.DataBase().delete(e).then((function(e){k(),Qe(g,"success","Database removed","",!1)})).catch((function(e){return Qe(g,"error","Database not found","",!1)}))}(t)}}))},key:"actions-column"}));return r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"content-dm"},r.a.createElement("div",{className:"dm-items"},r.a.createElement(me,null,"Databases")),r.a.createElement(Ee,null))),r.a.createElement(gt,{visible:a,onHide:function(){o(!1),k()},isEdit:E,showMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1?arguments[1]:void 0;Qe(g,e,t,"",!1)}}),r.a.createElement(st,{refElement:function(e){return b(e)}}),m.length>0?r.a.createElement(Te,{value:m,headerHeight:10,className:"minds-table card datasources-data-base-table border-datatable",selectionMode:"single",onSelectionChange:function(e){console.log(e.value)},loading:!1},N):r.a.createElement($e,{topMessage:"There is nothing here yet.",bottomMessage:"Connect to a Database",customIcon:"fa-plug",inProgressText:"This feature is still a work in progess (Beta)",inProgressTextLink:"Let us know what you think here",inProgressLink:"https://community.mindsdb.com/"}),r.a.createElement(jt,{visible:s,isEdit:E,onHide:function(){return c(!1)}}),r.a.createElement("div",{className:"fixed-buttons"},r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",label:"CONNECT",icon:"fas fa-exchange-alt",onClick:function(){o(!0),x([])}})))};function Tt(){var e=Object(k.a)(['\n\tdisplay: inline-block;\n\tfont-family: Karla;\n\tfont-size: 16px;\n\tline-height: 16px;\n\tfont-weight: normal;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tline-height: normal;\n\tletter-spacing: normal;\n  margin-right: 20px;\n  &:not(:first-of-type)::before {\n    content: ">";\n    margin-right: 20px;\n\t\t}\n']);return Tt=function(){return e},e}function Lt(){var e=Object(k.a)(["\n\tcolor: ",";\n\tdisplay: flex;\n\talign-items: center;\n\n\t.breadcrumb-link {\n\t\ttext-decoration: none;\n\t\tcolor: ",";\n\t\tcursor: pointer;\n\n\t\t&:hover {\n\t\t\tcolor: ",";\n\t\t}\n\t\ttransition: color 0.2s;\n\t}\n"]);return Lt=function(){return e},e}var Bt,It=N.a.div(Lt(),le.gray,le.gray,le.selectedBreacump),Rt=N.a.div(Tt()),At=function(e){var t=e.goToDatasources,a=e.dataSourceId,n=e.actualSite,o=e.AditionalItemGoto,i=e.AditionalItemName,l=void 0===i?"":i;return r.a.createElement(It,null,r.a.createElement(Rt,null,r.a.createElement("a",{href:"/",className:"breadcrumb-link",role:"button",onClick:t},n)),l&&r.a.createElement(Rt,null,r.a.createElement("a",{href:"/",className:"breadcrumb-link",role:"button",onClick:o},l)),r.a.createElement(Rt,null,a))},Mt=(a(521),Object(g.a)(Bt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={thWidths:null,thHeight:null},e.onResize=function(){var t=e.wrapperRef.querySelector(".p-datatable-row"),a=null,n=null;if(t){a=new Array(t.children.length);for(var r=0;r<t.children.length;r++)a[r]=t.children[r].getClientRects()[0].width}var o=e.wrapperRef.querySelector(".p-datatable-thead > tr");o&&(n=o.getBoundingClientRect().height),e.setState({thWidths:a,thHeight:n})},e.goToDatasources=function(e){e.preventDefault(),e.stopPropagation(),nt.setStage("datasources")},e.onPageChange=function(e){var t=e.rows,a=e.page;Ye.updatePage({rows:t,page:a})},e.onDataSortChange=function(e){var t=e.sortField,a=e.sortOrder;Ye.updateSort({sortField:t,sortOrder:a})},e.onFilterChange=function(e){var t=e.filters;Ye.updateFilter(t)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.resizeObserver=new ResizeObserver(this.onResize),this.mutationObserver=new MutationObserver(this.onResize),this.resizeObserver.observe(this.wrapperRef),this.mutationObserver.observe(this.wrapperRef,{childList:!0,subtree:!0})}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect(),this.mutationObserver.disconnect()}},{key:"render",value:function(){var e=this,t=this.state,a=t.thWidths,n=t.thHeight,o=Ye.fields.map((function(e){return e.name.includes(".")&&(e.name=e.name.replace(/\./g,"_")),e.name})).map((function(e,t){return r.a.createElement(ke.Column,{key:"field_".concat(t),field:e,headerStyle:{width:a?a[t]:void 0,maxWidth:a?a[t]:void 0},header:r.a.createElement("div",{className:"minds-table-clip-title"},r.a.createElement("div",null,r.a.createElement("span",{"data-title":e},e))),filter:!0})}));return r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",null),r.a.createElement(me,null,"Datasource Preview"),r.a.createElement(At,{goToDatasources:this.goToDatasources,dataSourceId:Ye.dataSourceId,actualSite:"Datasources"})),r.a.createElement("div",{className:"main-content__body table-fit-scroll preview-datasource",ref:function(t){e.wrapperRef=t}},r.a.createElement(Te,{ref:function(t){e.dt=t},value:Ye.data,className:"minds-table stripped card datasource-preview-table",headerHeight:n,paginator:!0,rowsPerPageOptions:[],lazy:!0,onPage:this.onPageChange,onSort:this.onDataSortChange,onFilter:this.onFilterChange,sortField:Ye.sort.sortField,sortOrder:Ye.sort.sortOrder,rows:Ye.rows,filters:Ye.filters,totalRecords:Ye.total,first:Ye.first,loading:Ye.loading,emptyMessage:r.a.createElement("div",null,r.a.createElement($e,{topMessage:"No matching items",bottomMessage:"Empty Set",customIcon:"fas fa-surprise",noneBorder:!0}))},o),r.a.createElement(w.Button,{type:"button",className:"minds-action-btn quality-position",label:"QUALITY",onClick:function(e){e.preventDefault(),e.stopPropagation(),nt.openDataQuality(Ye.dataSource),I.track("Datasources > Quality")}})))}}]),a}(n.Component))||Bt);function Ut(){var e=Object(k.a)(["\n   font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    letter-spacing: normal;\n    display: inline-block;\n\n    span.red {\n      color: ",";\n    }\n    span.yellow {\n      color: ",";\n    }\n    span.blue {\n      color: ",";\n    }\n"]);return Ut=function(){return e},e}var Wt=N.a.div(Ut(),le.watermelon,le.yellow,le.primaryBar),Vt=function(e){var t=e.type,a=e.icon;return r.a.createElement(Wt,null,r.a.createElement("span",{className:t},r.a.createElement("span",null,r.a.createElement("i",{className:"fas ".concat(a)}))))};Vt.defaultProps={type:"yellow",text:"Warning",icon:"fa-exclamation-triangle"};var zt=Vt,Ht=function(e){var t=e.message,a=e.type,n=e.iconMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"loader-bars"},r.a.createElement("div",{className:"bars"},r.a.createElement("div",{className:"rect1"}),r.a.createElement("div",{className:"rect2"}),r.a.createElement("div",{className:"rect3"}),r.a.createElement("div",{className:"rect4"}),r.a.createElement("div",{className:"rect5"})),t&&r.a.createElement("div",{className:"message-loader"},r.a.createElement(zt,{type:a,icon:n}),t)))},qt={Unknown:{flag:"\ud83c\udff4\u200d\u2620\ufe0f",name:"Unknown"},default:{flag:"\ud83c\udff4",name:"Default"},da:{flag:"\ud83c\udde9\ud83c\uddf0",name:"Danish"},en:{flag:"\ud83c\uddec\ud83c\udde7",name:"English"},sv:{flag:"\ud83c\uddf8\ud83c\uddea",name:"Swedish"},ro:{flag:"\ud83c\uddf7\ud83c\uddf4",name:"Romanian"},af:{flag:"\ud83c\uddff\ud83c\udde6",name:"Afrikaans"},fr:{flag:"\ud83c\uddeb\ud83c\uddf7",name:"French"},de:{flag:"\ud83c\udde9\ud83c\uddea",name:"deutsch"},sl:{flag:"\ud83c\uddf8\ud83c\uddee",name:"Slovenian"},no:{flag:"\ud83c\uddf3\ud83c\uddf4",name:"Norwegian"},ca:{flag:"\ud83c\udff4",name:"Catalan"},id:{flag:"\ud83c\uddee\ud83c\udde9",name:"Indonesian"},es:{flag:"\ud83c\uddea\ud83c\uddf8",name:"Spanish"},et:{flag:"\ud83c\uddea\ud83c\uddea",name:"Estonian"},so:{flag:"\ud83c\udde8\ud83c\udde9",name:"Soko"},it:{flag:"\ud83c\uddee\ud83c\uddf9",name:"Italian"},pt:{flag:"\ud83c\uddf5\ud83c\uddf9",name:"Portuguese"},pl:{flag:"\ud83c\uddf5\ud83c\uddf1",name:"Polish"},cy:{flag:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f",name:"Welsh"},hr:{flag:"\ud83c\udded\ud83c\uddf7",name:"Croatian"}},Qt=function(e){return qt[e]};function Gt(){var e=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  margin-top: 20px;\n"]);return Gt=function(){return e},e}function $t(){var e=Object(k.a)(["\n  display: flex;\n  flex-direction: row;\n  margin-top: 20px;\n  flex-wrap: wrap;\n  width: 200px;\n"]);return $t=function(){return e},e}function Kt(){var e=Object(k.a)(["\n  margin-left: 30px;\n  color: ",";\n"]);return Kt=function(){return e},e}function Yt(){var e=Object(k.a)(["\n  flex-wrap: wrap;\n"]);return Yt=function(){return e},e}function Jt(){var e=Object(k.a)(["\n  padding: 10px;\n  font-family: ",";\n  color: ",";\n\n  strong {\n    cursor: pointer;\n    font-family: ",";\n    font-size: 14px;\n    color: ",";\n    margin-right: 5px;\n    font-weight: 400;\n  }\n"]);return Jt=function(){return e},e}function Xt(){var e=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 100%;\n  padding: 10px;\n"]);return Xt=function(){return e},e}function Zt(){var e=Object(k.a)(["\n  width: 70%;\n  flex: 1;\n"]);return Zt=function(){return e},e}function ea(){var e=Object(k.a)(["\n  font-family: ",";\n  font-size: 14px;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.5;\n  letter-spacing: normal;\n  margin-bottom: 30px;\n"]);return ea=function(){return e},e}var ta=N.a.h1(ea(),se),aa=(N.a.div(Zt()),N.a.div(Xt())),na=N.a.div(Jt(),ce,le.slateGrey,se,le.mirage),ra=N.a.p(Yt()),oa=(N.a.i(Kt(),le.slateGrey),N.a.div($t())),ia=N.a.div(Gt()),la=Object(n.createContext)(),sa=function(e){return function(t){return r.a.createElement(la.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a||{}}))}))}},ca=function(e){var t=e.warnings,a=e.data,n=e.column_name,o=e.context,i=a.typing,l=a.empty,s=a.unique,c=a.outliers,u=a.bias,d=a.avg_words_per_sentence,m=a.lang_dist,p=function(e){o.sidebarContent.setAnyValue({title:{$set:e.title},paragraph:{$set:e.description},url:{$set:e.url}})},f=function(){o.sidebarContent.setAnyValue({title:{$set:""},paragraph:{$set:""},url:{$set:""}})};return r.a.createElement(aa,null,a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(na,{onMouseEnter:function(){return p({title:"Type:",description:i.description})},onMouseLeave:function(){return f()}},r.a.createElement("strong",null,"Type:")," ","".concat(i.data_type,"/").concat(i.data_subtype)),"Text"!==i.data_type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(na,{onMouseEnter:function(){return p({title:"Missing Values:",description:l.description})},onMouseLeave:function(){return f()}},r.a.createElement("strong",null,"Missing Values:")," ","".concat(l.empty_cells,"/").concat(l.empty_percentage.toFixed(2),"%"),t.empty&&r.a.createElement(zt,{className:"width-column-2",type:"yellow"})),s&&r.a.createElement(na,{onMouseEnter:function(){return p({title:"Distinct Values:",description:s.description})},onMouseLeave:function(){return f()}},r.a.createElement("strong",null,"Distinct Values:")," ",s.unique_values,t.unique&&r.a.createElement(zt,{className:"width-column-2",type:"yellow"})),c&&c.outlier_buckets.length>0&&r.a.createElement(na,{onMouseEnter:function(){return p({title:"Potential Outliers:",description:c.description})},onMouseLeave:function(){return f()}},r.a.createElement("strong",null,"Potential Outliers:"),r.a.createElement(zt,{className:"width-column-2",type:"yellow"}),r.a.createElement(ra,null,"Here are some potential outliers in "," ",r.a.createElement("span",{className:"tag tag__success"},n)," for values in:"," ",r.a.createElement(oa,null,r.a.createElement("span",{className:"tag tag__error"},function(e){return e?e.sort((function(e,t){return e-t})).map((function(e){return Number.isInteger(e)?e:e.toFixed(2)})).join(", "):""}(c.outlier_buckets))))),u&&t.bias&&r.a.createElement(na,{onMouseEnter:function(){return p({title:"Potential Bias:",description:u.description})},onMouseLeave:function(){return f()}},r.a.createElement("strong",null,"Potential Bias:"),t.bias&&r.a.createElement(zt,{className:"width-column-2",type:"yellow"}),r.a.createElement(ra,null,u.warning))),"Text"===i.data_type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(na,null,r.a.createElement("strong",null,"Average Words per Sentece:")," ",d.toFixed(2)),m&&r.a.createElement(na,null,r.a.createElement("strong",null,"Languages:"),r.a.createElement(ia,null,Object.keys(m).map((function(e,t){return r.a.createElement("div",{key:t},"".concat(Qt(e)?Qt(e).flag:Qt("default").flag,"(").concat(e,"): ").concat(m[e]))})))))))};ca.defaultProps={data:{}};var ua=sa(ca),da=a(216);function ma(){var e=Object(k.a)(["\n  color: ",";\n  cursor: pointer;\n\n  strong {\n    color: ",";\n  }\n"]);return ma=function(){return e},e}var pa=N.a.div(ma(),le.slateGrey,le.mirage),fa=function(e){var t=e.tooltipTitle,a=e.animate,n=e.typeValues,o=e.data,i=e.indexBy,l=e.keys,s=e.fillType,c=e.color,u=e.yLabelSymbol;return r.a.createElement(da.a,{data:o,indexBy:i,keys:l,padding:.4,defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:"*",id:s||""}],colors:c,margin:{top:20,right:40,bottom:100,left:70},labelSkipWidth:12,labelSkipHeight:12,tooltip:function(e){var a=e.color,n=e.data;return r.a.createElement(pa,{color:a},r.a.createElement("strong",null,t,": ")," ",n.tooltip)},enableGridX:!0,axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:10,tickRotation:-45,legend:"",legendPosition:"middle",legendOffset:32,tickValues:"Numeric"===n&&l.length>5?l.map((function(e){return e})).filter((function(e,t,a){return a.splice(t,1)})):""},axisLeft:{tickSize:10,tickPadding:10,tickRotation:0,legendPosition:"middle",legendOffset:-40,format:function(e){return u?"".concat(e).concat(u):e}},labelTextColor:{from:"color",modifiers:[["darker",1.6]]},enableLabel:!1,animate:a,motionStiffness:90,motionDamping:15})},ha=a(395),ga=function(e){var t=e.root,a=e.theme,n=e.animate,o=e.tile,i=e.identity,l=e.value;return r.a.createElement(ha.a,{root:t,identity:i,value:l,tile:o,innerPadding:3,outerPadding:2,margin:{top:0,right:10,bottom:10,left:10},label:"name",labelSkipSize:8,labelTextColor:{from:"color",modifiers:[["darker",1.2]]},colors:{scheme:a},borderWidth:3,borderColor:{from:"color",modifiers:[["darker","0.4"]]},animate:n,motionStiffness:65,motionDamping:11})};ga.defaultProps={tile:"binary",theme:"nivo",animate:!0,identity:"name",value:"loc"};var ba=ga;function va(){var e=Object(k.a)(["\n  width: 160px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n\n  button {\n    cursor: pointer;\n    border: none;\n    background: transparent;\n    font-size: 12px;\n    font-weight: 700;\n    outline: 0;\n    margin: 0 15px;\n  }\n"]);return va=function(){return e},e}var ya=N.a.div(va()),Ea=function(e){var t,a=e.data,o=Object(n.useState)(0),i=Object(ye.a)(o,2),s=i[0],c=i[1],u=Object(n.useState)(50),d=Object(ye.a)(u,2),m=d[0],p=d[1],f=a.data_analysis_v2,h=a.column_name,g=a.warnings,y=function(e,t,a){var n=We(e),r=ze(n,"x"),o=[],i=[],s=t&&"numeric"===t.toLowerCase(),c=t&&"categorical"===t.toLowerCase();if(s)for(var u=0;u<r.length;u++)i.push(r[u]),i.length>1&&(o.push(i.join("-")),(i=[]).push(r[u]));var d=0;n.forEach((function(e){d+=e.y&&!isNaN(e.y)?Math.abs(e.y):0}));var m=n.length,p={},f=n.map((function(e,t){var n={},i=100*(e.y&&!isNaN(e.y)?Math.abs(e.y):0)/d,c=Number.isInteger(i)?i:parseFloat(i.toFixed(2));if(r.includes(e.x)){var u=a.find((function(t){return(Number.isInteger(t)?t:parseFloat(t.toFixed(2)))===e.x}));if(s){var f,h=o.find((function(t){return t.indexOf("".concat(e.x,"-"))>-1}));if(h)f={key:h},Object(v.a)(f,h,c),Object(v.a)(f,"sortingKey",c),Object(v.a)(f,"tooltip","Values between [".concat(h,") are ").concat(c,"% common")),n=f;else if(t+1===m){var g;if(o.find((function(t){return t.indexOf("-".concat(e.x))>-1})))g={key:"".concat(e.x)},Object(v.a)(g,e.x,c),Object(v.a)(g,"sortingKey",c),Object(v.a)(g,"tooltip","Values in [".concat(e.x,"] are ").concat(c,"% common")),p=g}}else{var b;b={key:e.x},Object(v.a)(b,e.x,c),Object(v.a)(b,"sortingKey",c),Object(v.a)(b,"tooltip","Values in [".concat(e.x,"] are ").concat(c,"% common")),n=b}isNaN(u)?p={}:(n.color=le.watermelon,n.outlier=e.x,t+1===m&&(p=Object(l.a)(Object(l.a)({},p),{},{color:le.watermelon,outlier:e.x})))}return n})).filter((function(e){return 0===e.key||e.key}));return c&&(f=Object(_t.orderBy)(f,["sortingKey"],["desc"])),p&&p.key&&(f.push(p),s?o.push("".concat(p.key)):r.push("".concat(p.key))),{labels:s?o:r,chartData:n,formatData:f,datasets:[{label:"Occurrences",backgroundColor:"rgba(0, 176, 109, 0.6)",borderColor:"rgba(0, 176, 109, 0.6)",hoverBackgroundColor:"rgb(0, 176, 109)",hoverBorderColor:"rgb(0, 176, 109)",data:ze(n,"y")}]}}(a.data_distribution.data_histogram,f.typing.data_type,f.outliers?f.outliers.outlier_buckets:[]),E=y.labels,w=y.formatData,x=w.length,k=[],N=[];if(w.length>50)for(;w.length>0;)k.push(w.splice(0,50)),N.push(E.splice(0,50));else k.push(w),N.push(E);var S=k.length>1;return r.a.createElement("div",{className:"row-grid"},r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement(ua,{warnings:g,data:f,column_name:h})),r.a.createElement("div",{className:"col-sm-12 col-md-8"},"Text"!==(null===f||void 0===f||null===(t=f.typing)||void 0===t?void 0:t.data_type)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ta,null," ","Occurrences of Variable on the Dataset"," "),r.a.createElement("div",{style:{paddingRight:20,height:400}},r.a.createElement(fa,{typeValues:f.typing.data_type,data:S?k[s]:k[0],indexBy:"key",keys:S?N[s]:N[0],color:function(e){return e.data.color||le.green},tooltipTitle:"Occurrences",yLabelSymbol:"%",animate:!0}),S&&r.a.createElement(ya,null,r.a.createElement("button",{onClick:function(){s-1<0?(c(0),p(50)):(c(s-1),p(m-k[s].length))}},"<<"),r.a.createElement("span",null,"".concat(m,"/").concat(x)),r.a.createElement("button",{onClick:function(){s+1<k.length?(c(s+1),p(m+k[s+1].length)):(c(s),p(x))}},">>")))),"Text"===f.typing.data_type&&r.a.createElement("div",{style:{paddingRight:20,height:400}},r.a.createElement(ba,{root:function(){var e=Object.keys(f.word_dist).map((function(e){return{name:e||"Unknown",loc:f.word_dist[e]}}));return{children:Object(b.a)(e)}}(),theme:"greens"}))))};Ea.defaultProps={data_analysis_v2:{},score:0};var wa=Ea;function xa(){var e=Object(k.a)(["\n  font-size: 14px;\n  margin: 8px 40px;\n  font-family: ",";\n  color: ",";\n"]);return xa=function(){return e},e}function ka(){var e=Object(k.a)(["\n  display: inline-flex;\n  width: 100%;\n  flex-direction: row;\n  justify-content: space-between;\n"]);return ka=function(){return e},e}var Na,Sa,Oa=N.a.div(ka()),Ca=N.a.span(xa(),ce,le.slateGrey),ja=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderHeader",value:function(e){var t=this.props,a=t.header,n=t.sectionName,o=t.toggleable,i=t.columnMetadata,l=t.noRepeat;if(a||o){var s=this.renderToggleIcon(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-panel-titlebar",role:"button",onClick:this.toggle},e?r.a.createElement("div",{className:"p-panel-title"},a):n?r.a.createElement(Oa,null,r.a.createElement("strong",null,n),i.warningsLength>0&&r.a.createElement(Ca,null,r.a.createElement("span",null,i.warningsLength," warnings"),r.a.createElement(zt,{className:"width-column-2",type:"yellow"}))):r.a.createElement("strong",null,a),s),!e&&i&&!l&&r.a.createElement(wa,{data:i}))}return null}}]),a}(x.Panel),_a=(a(650),Object(g.a)(Na=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.goToDatasources=function(e){e.preventDefault(),e.stopPropagation(),nt.setStage("datasources")},e}return Object(c.a)(a,[{key:"render",value:function(){if(!0===Xe.loading||!1===Xe.loaded){var e="analyzing"===Xe.analyzeStatus||null,t={message:e?"This analysis may take some time, depending on the dataset's size and content type.":null,iconMessage:e?"fa-info-circle":null,type:e?"blue":null};return r.a.createElement(Ht,t)}var a,n=Xe.data||[];return"analyzing"!==n.status&&(a=n.data_analysis_v1.map((function(e){return e.data_analysis_v2=n.data_analysis_v2[e.column_name],e.warnings=Ve(e.data_analysis_v2),e.warningsLength=Object.keys(e.warnings).filter((function(t){return e.warnings[t]})).length,r.a.createElement(r.a.Fragment,null,e.column_name&&r.a.createElement(ja,{className:"minds-block interactive-title",key:"key-".concat(e.column_name),header:r.a.createElement("div",{className:"collapsed-panelTitle"},r.a.createElement("span",null,e.column_name," "),e.warningsLength>=1&&r.a.createElement("div",{className:"warn-collapsed"},r.a.createElement("span",{className:"low-span"},e.warningsLength," Warnings\xa0"),r.a.createElement(zt,{type:"yellow"}))),sectionName:e.column_name,columnMetadata:e,toggleable:!0,collapsed:!0}))}))),r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",null),r.a.createElement(me,null,"Datasource Quality"),r.a.createElement(At,{goToDatasources:this.goToDatasources,dataSourceId:Xe.dataSourceName,actualSite:"Datasources"})),r.a.createElement("div",{className:"main-content__body datasource-data-quality"},r.a.createElement("div",{className:"data-container"},a)),r.a.createElement("div",{className:"alert-quality"},r.a.createElement(zt,{type:"blue",icon:"fa-info-circle"}),"Data set analysis is designed to be done on a random, representative sample of your total data."),r.a.createElement(w.Button,{type:"button",className:"minds-action-btn quality-position",label:"PREVIEW",onClick:function(e){e.preventDefault(),e.stopPropagation(),nt.openDataPreview(Xe.dataSource),I.track("Datasources > Preview")}}))}}]),a}(n.Component))||Na),Da=a(112),Pa=a.n(Da),Fa=a(224),Ta=a(397),La=a.n(Ta),Ba=(a(678),function(e){var t=e.value,a=e.onChangeDate,o=Object(n.useState)((function(){return t||new Date})),i=Object(ye.a)(o,2),l=i[0],s=i[1];return r.a.createElement(La.a,{value:l,onChange:function(e){s(e),a(e),console.log(e)},amPmAriaLabel:"Select AM/PM",calendarAriaLabel:"Toggle calendar",clearAriaLabel:"Clear value",dayAriaLabel:"Day",hourAriaLabel:"Hour",maxDetail:"second",minuteAriaLabel:"Minute",monthAriaLabel:"Month",nativeInputAriaLabel:"Date and time"})}),Ia=(a(679),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedValues:[],dataTable:[]},e.onSearchBar=function(t){var a=e.props.options,n=t.target.value,r=a.filter((function(e){return e.label.indexOf(n)>-1}));e.setState({dataTable:r})},e.onSelectRow=function(t,a){var n=e.props,r=n.onChange,o=void 0===r?function(){}:r,i=n.options,l=n.useDeleteIcon,s=e.state.selectedValues,c=!1;(!i||i.length<=1)&&(c=!0),l&&i.length-s.length<=1&&(c=!0),c&&console.error("You need to leave at least one item without being selected"),t.checked&&!c?s.push(t.value):s=s.filter((function(e){return e!==t.value})),t.target.value=s,o(t,a),e.setState({selectedValues:s})},e.validateChecked=function(t){return e.state.selectedValues.indexOf(t)>-1},e.setExtraFieldValue=function(t,a){var n=e.props.onExtraFieldChange;a.extraFieldValue.value=t.target.value,n(a.extraFieldValue)},e.setDateExtraFieldValue=function(t,a){var n=e.props.onExtraFieldChange;a.extraFieldValue.value=t,n(a.extraFieldValue)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,a=e.value;this.setState({dataTable:t,selectedValues:a||[]})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.options,r=a.value,o=e.options,i=e.value;n.length!==o.length&&this.setState({dataTable:n}),r!==i&&this.setState({selectedValues:r||[]})}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.filter,o=t.searchIconStyles,i=t.useDeleteIcon,l=t.showExtraFields,s=this.state.dataTable,c=function(e){if(!e.distribution)return[];var t=e.distribution.sort().map((function(e){return{label:e,value:e}}));return t.unshift({label:"none",value:null}),t};return r.a.createElement("div",{className:"minds-dialog__field",style:{width:"100%",margin:0}},n?r.a.createElement("div",{className:"p-inputgroup",style:{width:"100%"}},r.a.createElement(we,{name:"predictorSearch",onChange:this.onSearchBar,className:"mdb-input search-bar",placeholder:"Search Bar"}),r.a.createElement("span",{className:"p-inputgroup-addon search-icon",style:o},r.a.createElement("i",{className:"pi pi-search"}))):null,r.a.createElement("div",{className:"simple-table-container"},s.map((function(t,n){return r.a.createElement("div",{className:"simple-row-flex",key:n},r.a.createElement("div",{className:"simple-column-flex"},r.a.createElement("div",{className:"column-content"},t.label?t.label:t.name)),r.a.createElement("div",{className:"simple-column-flex"},r.a.createElement("div",{className:"column-content"},l?null:r.a.createElement(Fa.Checkbox,{name:a,value:t.value,onChange:function(a){return e.onSelectRow(a,t)},checked:e.validateChecked(t.value),className:"mdb-select ".concat(i?"use-delete-icon":"")}),l?r.a.createElement("div",{style:{marginLeft:"20px"}},"numeric"===t.data_type?r.a.createElement("input",{name:"value",placeholder:"value",className:"query-condition__value mdb-input",value:t.extraFieldValue.value||"",onChange:function(a){return e.setExtraFieldValue(a,t)},style:{width:150}}):"date"===t.data_type?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ba,{value:null,onChangeDate:function(a){return e.setDateExtraFieldValue(a,t)}})):r.a.createElement(E.Dropdown,{className:"query-condition__value mdb-select",name:"value",placeholder:"value",value:t.extraFieldValue.value,options:c(t),onChange:function(a){return e.setExtraFieldValue(a,t)},style:{width:150}})):null)))}))))}}]),a}(r.a.Component)),Ra=(a(680),function(e,t){if("marginOfError"===e&&!isNaN(t))return!t||0===parseFloat(t)||parseFloat(t)>=.05&&parseFloat(t)<=.2}),Aa=function(e){var t=e.fields,a=e.onChange,n=e.marginOfError,o=e.stopTrainingAfter,i=e.backend,l=e.useGpu,s=e.removeForTrainingFields,c=function(e){e.target.value=e.checked,a(e)};return r.a.createElement("div",null,r.a.createElement("div",{className:"minds-dialog__field",style:{flexFlow:"row"}},r.a.createElement("div",{className:"field-container",style:{width:"171px"}},r.a.createElement("label",{htmlFor:"in10",className:"p-checkbox-label"},"Sample Margin of Error"),r.a.createElement(D.InputText,{id:"in10",name:"marginOfError",value:n||0,onChange:a,className:"mdb-input ".concat(Ra("marginOfError",n)?"":"error"),placeholder:"Default 0 (0.05 - 0.2)",keyfilter:"pnum"})),r.a.createElement("div",{className:"field-container horizontal-padding",style:{width:"137px"}},r.a.createElement("label",{htmlFor:"in11",className:"p-checkbox-label"},"Stop Training After:"),r.a.createElement(D.InputText,{id:"in11",name:"stopTrainingAfter",value:o||"",onChange:a,className:"mdb-input",placeholder:"In minutes",type:"text",keyfilter:"pint"})),r.a.createElement("div",{className:"field-container"},r.a.createElement("label",{htmlFor:"in12",className:"p-checkbox-label"},"Backend:"),r.a.createElement(E.Dropdown,{inputId:"in12",name:"backend",value:i,options:[{label:"Lightwood",value:"lightwood"},{label:"Ludwig",value:"ludwig"}],onChange:a,placeholder:"",className:"mdb-select"}))),r.a.createElement("div",{className:"minds-dialog__field",style:{flexFlow:"row",marginTop:"26px"}},r.a.createElement("div",{className:"flex-container",style:{marginRight:"50px"}},r.a.createElement("label",{htmlFor:"in13",className:"p-checkbox-label"},"Use GPU"),r.a.createElement(Fa.Checkbox,{name:"useGpu",value:l,onChange:function(e){return c(e)},checked:l,className:"mdb-select"}))),r.a.createElement("div",{className:"minds-dialog__field"},r.a.createElement("label",{htmlFor:"in15",className:"p-checkbox-label"},"Select colums to be removed for training:"),r.a.createElement(Ia,{name:"removeForTrainingFields",filter:!0,value:s,options:t,onChange:a,useDeleteIcon:!0})),r.a.createElement("span",{className:"how-to-use"},"For more information on how to use advance parameters"," ",r.a.createElement("button",{onClick:function(){}},"click here.")))},Ma=Object(g.a)(Sa=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={dataSource:null,predictedFields:null,predictorName:"",showAdvancedMode:!1,marginOfError:0,stopTrainingAfter:null,backend:"lightwood",useGpu:!1,optionalAnalysis:!1,removeForTrainingFields:null},e.onShow=function(){e.setState({dataSource:null,predictedFields:null,predictorName:"",showAdvancedMode:!1,marginOfError:0,stopTrainingAfter:null,backend:"lightwood",useGpu:!1,optionalAnalysis:!1,removeForTrainingFields:null}),e.selectDataSource()},e.onTrain=Object(_.a)(j.a.mark((function t(){var a,n,r,o,i,l,s,c,u,d,m,p,f,h,g,b,v,y,E;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.dataSourcesStore,r=a.onHide,o=e.state,i=o.predictorName,l=o.dataSource,s=o.predictedFields,c=o.showAdvancedMode,u=o.marginOfError,d=o.stopTrainingAfter,m=o.backend,p=o.useGpu,f=o.removeForTrainingFields,h=n.data[l].name,g=s,b=M.a.Predictor({name:i}),v={dataSourceName:h,toPredict:g},c&&(y=f?f.filter((function(e){return!s.find((function(t){return t===e}))})):null,0===(E={use_gpu:p,backend:m,ignore_columns:y,sample_settings:{sample_margin_of_error:parseFloat(u)},stop_training_in_x_seconds:d?60*parseInt(d)*1e3:0}).stop_training_in_x_seconds&&delete E.stop_training_in_x_seconds,v={dataSourceName:h,toPredict:g,kwargs:E});try{b.learn(v),r(!0)}catch(w){}case 8:case"end":return t.stop()}}),t)}))),e.setFieldValue=function(t){var a,n=e.state.removeForTrainingFields;"predictedFields"===t.target.name&&n?(n=n.filter((function(e){return!t.target.value.find((function(t){return t===e}))})),e.setState((a={},Object(v.a)(a,t.target.name,t.target.value),Object(v.a)(a,"removeForTrainingFields",n),a))):"marginOfError"===t.target.name?e.setState(Object(v.a)({},t.target.name,t.target.value||0)):e.setState(Object(v.a)({},t.target.name,t.target.value))},e.isInvalidMarginOfError=function(e){if(!isNaN(e)){var t=parseFloat(e);if(t>=.05&&t<=.2||0===t)return!1}return!0},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=Object(_.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.dataSourcesStore).loaded){e.next=4;break}return e.next=4,t.load();case 4:this.selectDataSource();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectDataSource",value:function(){var e=this.props.dataSourcesStore;e.dropdownOptions&&e.dropdownOptions.length&&this.setState({dataSource:e.dropdownOptions[0].value})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dataSourcesStore,n=t.visible,o=t.onHide,i=this.state,l=i.predictedFields,s=i.dataSource,c=i.predictorName,u=i.showAdvancedMode,d=i.marginOfError,m=i.stopTrainingAfter,p=i.backend,f=i.useGpu,h=i.optionalAnalysis,g=i.removeForTrainingFields,b=[];null!==s&&(b=a.getFields(s).map((function(e){return{label:e.name,value:e.name}})));var v=!l||!l.length||null===s||""===c;u&&(v=v||this.isInvalidMarginOfError(d)||null===p);var y=b;return l&&l.length>0&&(y=b.filter((function(e){return!l.find((function(t){return t===e.value}))}))),r.a.createElement(Le.Dialog,{visible:n,onHide:o,onShow:this.onShow,modal:!0,header:u?"New Predictor Adv. Mode":"New Predictor",className:"minds-dialog ".concat(u?"width-100":""),style:{width:u?"1000px":"500px"}},r.a.createElement("div",{className:u?"super-container":""},r.a.createElement("div",{className:"left-container"},r.a.createElement("div",{className:"minds-dialog__field"},r.a.createElement("label",{htmlFor:"cb3",className:"p-checkbox-label"},"From:"),r.a.createElement(E.Dropdown,{inputId:"cb3",name:"dataSource",value:s,options:a.dropdownOptions,onChange:this.setFieldValue,placeholder:"",className:"mdb-select"})),r.a.createElement("div",{className:"minds-dialog__field"},r.a.createElement("label",{htmlFor:"cb5",className:"p-checkbox-label"},"Predictor name:"),r.a.createElement(we,{id:"cb5",name:"predictorName",value:c,onChange:this.setFieldValue,className:"mdb-input",placeholder:"Name Your New Predictor"})),r.a.createElement("div",{className:"minds-dialog__field"},r.a.createElement("label",{htmlFor:"cb4",className:"p-checkbox-label"},"Select only the colums to be predicted:"),r.a.createElement(Ia,{name:"predictedFields",filter:!0,value:l,options:b,onChange:this.setFieldValue,searchIconStyles:u?{right:"8px"}:{}}))),u?r.a.createElement("div",{className:"right-container"},r.a.createElement(Aa,{predictedFields:l,fields:y,onChange:this.setFieldValue,marginOfError:d,stopTrainingAfter:m,backend:p,useGpu:f,optionalAnalysis:h,removeForTrainingFields:g})):null),r.a.createElement("div",{className:"separate-btns",style:{marginTop:"24px"}},r.a.createElement("p",{className:"mode-button",onClick:function(){return e.setState({showAdvancedMode:!u})}},u?"Basic Mode":"Advanced Mode"),r.a.createElement("div",null,r.a.createElement(w.Button,{className:"minds-action-btn lg-btn-spacing bold red",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"CANCEL")),onClick:o}),r.a.createElement(w.Button,{className:"minds-action-btn lg-btn-spacing bold",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"TRAIN")),onClick:this.onTrain,disabled:v}))))}}]),a}(n.Component))||Sa,Ua=function(){function e(){var t=this;Object(s.a)(this,e),this.data=[],this.loading=!1,this.loaded=!1,this.getFields=function(e){return t.data[e].columns||[]},this.getByName=function(e){for(var a=0;a<t.data.length;a++)if(t.data[a].name===e)return t.data[a];return null},this.reset=function(){t.loading=!1,t.loaded=!1,t.data=[]}}return Object(c.a)(e,[{key:"load",value:function(){var e=Object(_.a)(j.a.mark((function e(t){var a,n=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,M.a.dataSources(t);case 4:a=e.sent,Object(m.n)((function(){n.data=a,n.loading=!1,n.loaded=!0})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(m.n)((function(){return n.loading=!1}));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=Object(_.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.DataSource(t).download(a);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(_.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.DataSource(t).delete(a);case 3:return e.next=5,this.load(a);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"dropdownOptions",get:function(){return this.data.map((function(e,t){return{label:e.name,value:t}}))}}]),e}();Object(m.h)(Ua,{data:m.m,loading:m.m,loaded:m.m,dropdownOptions:m.e,reset:m.d,load:m.d,download:m.d,delete:m.d});var Wa,Va=new Ua,za=(a(681),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={file:null,uploading:!1,percentCompleted:0,showFileErrorMessage:!1},e.onShow=function(){e.setState({uploading:!1,file:null,showFileErrorMessage:!1})},e.onUpload=Object(_.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.file,n=M.a.Predictor(),e.setState({uploading:!0}),t.prev=3,t.next=6,n.upload(a,e.onUploadProgress);case 6:(0,e.props.onHide)(!0),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.setState({uploading:!1});case 13:case"end":return t.stop()}}),t,null,[[3,10]])}))),e.onUploadProgress=function(t){e.setState({percentCompleted:t})},e.onPickFile=function(t){if(t.target.files&&t.target.files.length){var a=t.target.files[0];a&&"application/zip"===a.type?e.setState({file:a,showFileErrorMessage:!1}):e.setState({file:null,showFileErrorMessage:!0})}else e.setState({file:null})},e.setFieldValue=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.file,a=e.uploading,n=e.percentCompleted,o=e.showFileErrorMessage,i=!t,l=a?"Uploading predictor":"Upload new predictor",s=t?"":"minds-file-input-value__empty",c=t?t.name:"No file chosen";return r.a.createElement(Le.Dialog,{visible:this.props.visible,onHide:this.props.onHide,onShow:this.onShow,modal:!0,header:l,className:"minds-upload-source"},a?r.a.createElement(Be.ProgressBar,{value:n}):r.a.createElement("div",null,r.a.createElement("div",{className:"p-inputgroup minds-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon minds-inputgroup-addon"},"File:"),r.a.createElement("div",{className:"minds-file-input-value ".concat(s)},c),r.a.createElement("input",{title:c,placeholder:"",type:"file",id:"file-input",className:"minds-file-input mdb-input",accept:"zip,application/octet-stream,application/zip,application/x-zip,application/x-zip-compressed",onChange:this.onPickFile})),o?r.a.createElement("p",{className:"error-message"},"Just .zip files are allowed"):null,r.a.createElement("div",{className:"separate-btns"},r.a.createElement(w.Button,{className:"minds-action-btn red",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"CANCEL")),onClick:this.props.onHide}),r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"UPLOAD")),onClick:this.onUpload,disabled:i}))))}}]),a}(n.Component)),Ha=(a(682),Object(g.a)(Wa=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={uploadWinVisible:!1,newPredictorWinVisible:!1,thWidths:null,thHeight:null},e.onResize=function(){var t=e.wrapperRef.querySelector(".p-datatable-row"),a=null,n=null;if(t){a=new Array(t.children.length);for(var r=0;r<t.children.length;r++)a[r]=t.children[r].getClientRects()[0].width}var o=e.wrapperRef.querySelector(".p-datatable-thead > tr");o&&(n=o.getBoundingClientRect().height),e.setState({thWidths:a,thHeight:n})},e.interval=null,e.reload=function(){var t=e.props.predictorsStore;t.load(),e.interval&&(clearInterval(e.interval),e.interval=null),e.interval=setInterval((function(){!1===t.loading&&t.load()}),5e3)},e.onDownload=function(){var e=Object(_.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.download();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),e.onUpload=function(){},e.onDelete=function(){var t=Object(_.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.delete();case 3:e.reload(),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),e.onSelectionChange=function(e){"training"!==e.value.status&&nt.openPredictor(e.value)},e.hideNewPredictorWin=function(t){e.setState({newPredictorWinVisible:!1}),t&&e.reload()},e.showNewPredictorWin=function(){e.setState({newPredictorWinVisible:!0}),I.track("Predictors > Train New")},e.showUploadWin=function(){e.setState({uploadWinVisible:!0}),I.track("Predictors > Upload")},e.hideUploadWin=function(){e.setState({uploadWinVisible:!1},(function(){e.reload()}))},e.actionTemplate=function(t,a){return r.a.createElement("div",null,r.a.createElement("div",{className:"minds-table__actions"},r.a.createElement(w.Button,{type:"button",disabled:"training"===t.status,className:"minds-action-btn lg-btn",label:"QUERY",onClick:function(e){e.preventDefault(),e.stopPropagation(),nt.openQuery(t.name),I.track("Predictors > Query")}}),r.a.createElement(w.Button,{type:"button",disabled:"training"===t.status,className:"minds-action-btn lg-btn",label:"PREVIEW",onClick:function(a){a.preventDefault(),a.stopPropagation(),e.onSelectionChange({value:t}),I.track("Predictors > Preview")}}),r.a.createElement(w.Button,{type:"button",disabled:"training"===t.status,className:"minds-action-btn sm-btn",label:r.a.createElement("span",{className:"minds-action-btn__icon"},r.a.createElement("i",{className:"fas fa-download"})),onClick:function(a){a.preventDefault(),a.stopPropagation(),e.onDownload(t),I.track("Predictors > Download")}}),r.a.createElement(w.Button,{type:"button",className:"minds-action-btn red",label:r.a.createElement("span",{className:"minds-action-btn__icon"},r.a.createElement("i",{className:"fas fa-trash"})),onClick:function(a){a.preventDefault(),a.stopPropagation(),e.onDelete(t),I.track("Predictors > Delete")}})))},e.fieldsTemplate=function(e,t){return e[t.field].join(", ")},e.accuracyTemplace=function(e,t){var a;return 0===e[t.field]?"-":("complete"===e.status&&(a="completed"),r.a.createElement("span",{className:a},parseFloat((100*e[t.field]).toFixed(2)),"%"))},e.statusTemplate=function(e,t){var a,n;if("complete"===e[t.field]&&(a="completed"),"training"===e[t.field]){var o=Pa()(e.created_at);n=Pa.a.duration(Pa()().diff(o)),n=Pa.a.utc(n.asMilliseconds()).format("HH:mm:ss")}return r.a.createElement("span",{className:a},e[t.field]," ",n)},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.reload()}},{key:"componentDidMount",value:function(){this.resizeObserver=new ResizeObserver(this.onResize),this.mutationObserver=new MutationObserver(this.onResize),this.resizeObserver.observe(this.wrapperRef),this.mutationObserver.observe(this.wrapperRef,{childList:!0,subtree:!0})}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect(),this.mutationObserver.disconnect(),this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.props.predictorsStore,a=this.state,n=a.thWidths,o=a.thHeight,i=Object(b.a)(t.fields).map((function(t,a){var o;return"predict"===t.field?o=e.fieldsTemplate:"accuracy"===t.field&&(o=e.accuracyTemplace),"status"===t.field&&(o=e.statusTemplate),r.a.createElement(ke.Column,{key:t.field,body:o,field:t.field,header:t.header,headerStyle:{width:n?n[a]:void 0,maxWidth:n?n[a]:void 0},sortable:!0})}));return i.push(r.a.createElement(ke.Column,{body:this.actionTemplate,key:"actions-column",style:{textAlign:"center",width:"12em"}})),r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"content-dm"},r.a.createElement("div",{className:"dm-items"},r.a.createElement(me,null,"Predictors")),r.a.createElement(Ee,null))),r.a.createElement("div",{className:"main-content__body table-fit-scroll",style:{paddingBottom:"6rem",overflow:0===t.data.length?"hidden":"auto"},ref:function(t){e.wrapperRef=t}},0===this.props.predictorsStore.data.length?r.a.createElement($e,{topMessage:"There is nothing here yet.",bottomMessage:"Upload model or click on train new"}):r.a.createElement(Te,{value:this.props.predictorsStore.data,headerHeight:o,selectionMode:"single",className:"minds-table card predictors-datatable",onSelectionChange:this.onSelectionChange},i),r.a.createElement(Ma,{visible:this.state.newPredictorWinVisible,onHide:this.hideNewPredictorWin,dataSourcesStore:Va}),r.a.createElement(za,{visible:this.state.uploadWinVisible,onHide:this.hideUploadWin})),r.a.createElement("div",{className:"fixed-buttons"},r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",icon:"fas fa-dolly-flatbed",label:"UPLOAD MODEL",onClick:this.showUploadWin}),r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",icon:"fas fa-robot",label:" TRAIN NEW",onClick:this.showNewPredictorWin})))}}]),a}(n.Component))||Wa),qa=function(e){var t=e.data,a=e.keys,n=e.margin,o=e.colors,i=void 0===o?["#00b06d"]:o,l=e.height,s=void 0===l?300:l,c=e.onMouseEnter,u=void 0===c?function(){}:c,d=e.onMouseLeave,m=void 0===d?function(){}:d,p=e.legendTop;return r.a.createElement("div",{style:{height:s}},r.a.createElement(da.a,{data:t,keys:a,indexBy:"importance",margin:n,padding:.2,innerPadding:0,layout:"horizontal",colors:i,enableGridX:!0,enableGridY:!0,defs:[],fill:[],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisRight:null,enableSlicesLabels:!1,axisTop:p,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:4,tickPadding:10,tickRotation:0,legendPosition:"middle",legendOffset:0},labelSkipWidth:12,labelSkipHeight:12,tooltip:function(e){return"".concat(e.id," : ").concat(e.value)},labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[],animate:!0,enableLabel:!1,motionStiffness:90,motionDamping:15,onMouseEnter:function(e,t){return u(e,t)},onMouseLeave:function(e,t){return m(e,t)}}))},Qa=a(225);function Ga(){var e=Object(k.a)(["\n\ttext-align: center;\n\toverflow-wrap: break-word;\n  line-height: 0.3;\n  color: ",";\n\twidth: 220px;\n\theight: 20px;\n\tmargin: 0;\n\tfont-size: 24px;\n\tfont-family: ",";\n\tfont-weight: 500;\n\tfont-stretch: normal;\n\tfont-style: normal;\n"]);return Ga=function(){return e},e}function $a(){var e=Object(k.a)(["\n\ttext-align: center;\n  overflow-wrap: break-word;\n  color: ",";\n\twidth: 220px;\n\theight: 20px;\n\tmargin: 0;\n\tfont-size: 16px;\n\tfont-family: ",";\n\tfont-weight: 500;\n\tfont-stretch: normal;\n  font-style: normal;\n  line-height: 1;\n"]);return $a=function(){return e},e}function Ka(){var e=Object(k.a)(["\n\tposition: absolute;\n  @media (max-width: 1150px) {\n    left: 0.4rem;\n    }\n"]);return Ka=function(){return e},e}function Ya(){var e=Object(k.a)(["position: relative;"]);return Ya=function(){return e},e}var Ja=N.a.div(Ya()),Xa=N.a.div(Ka()),Za=N.a.p($a(),le.mirage,se),en=N.a.p(Ga(),le.mirage,se),tn=function(e){var t=e.confidenceInterval,a=e.height,n=e.data,o=e.infoData,i=void 0===o?"":o,l=e.infoDatatext2,s=void 0===l?"":l,c=e.endAngle,u=void 0===c?360:c,d=e.mtop,m=void 0===d?0:d,p=e.mleft,f=void 0===p?0:p,h=e.pieColor;return r.a.createElement(Ja,{style:{height:a}},r.a.createElement(Xa,{style:{top:"".concat(m,"px"),left:"".concat(f,"px")}},r.a.createElement(en,null,t),r.a.createElement(Za,{style:{fontSize:"Test"===i?"20px":"17px"}},i),r.a.createElement(Za,null,s)),r.a.createElement(Qa.a,{data:n,margin:{top:10,right:0,bottom:10,left:0},innerRadius:.75,padAngle:.7,cornerRadius:0,enableSlicesLabels:!1,colors:[h],borderWidth:3,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,fit:!1,radialLabelsTextXOffset:6,radialLabelsTextColor:h,radialLabelsLinkOffset:-24,radialLabelsLinkDiagonalLength:0,endAngle:u,enableRadialLabels:!1,slicesLabelsSkipAngle:10,slicesLabelsTextColor:h,isInteractive:!1,animate:!0,motionStiffness:90,motionDamping:15,defs:[],fill:[]}))},an=(a(683),function(e){var t=e.context,a=e.dataPreparation,n=e.accuracy,o=[{importance:"Test",importanceColor:"hsl(253, 70%, 50%)",Test:a.test_row_count+a.validation_row_count,Title:"Testing Subset",Description:'A Testing Subset is the dataset we use to check how well our trained\n      model aligns with alternative data - with the data that was not used for training. In other words, we use it\n      to check how well the model has "learned"'},{importance:"Training",importanceColor:"hsl(253, 70%, 50%)",Training:a.train_row_count,Title:"Training Subset",Description:'A Training Subset is what we call\n      the dataset used to teach our model, in other words, the dataset used for\n      "learning"'}],i=[le.selectedBreacump,le.primaryBar],l=[{id:"",label:"confidence",value:n,color:"hsl(250, 70%, 50%)"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"graph-container"},r.a.createElement("div",{className:"accuracy-doughnut"},r.a.createElement(tn,{confidenceInterval:"".concat(parseFloat((100*n).toFixed(3)),"%"),infoData:"Test",infoDatatext2:"Accuracy",height:210,data:l,endAngle:100*n*360/100,mtop:81,mleft:13,pieColor:le.selectedBreacump})),r.a.createElement("div",{className:"summary-doughnut"})),r.a.createElement("strong",null,"Model General Accuracies"),r.a.createElement("p",null,"When blindsided the model predicted correctly"," ",r.a.createElement("span",{className:"tag tag__default"},"".concat(parseFloat((100*n).toFixed(3))),"%")," ","of the times, this means the model is fairly accurate.")),r.a.createElement("div",{className:"column"},r.a.createElement("strong",{className:"title-s"},"Dataset Spliting and Usage"),r.a.createElement("div",null,r.a.createElement(qa,{data:o,keys:o.map((function(e){return e.importance})),margin:{top:20,right:20,bottom:20,left:60},colors:i,height:300,onMouseEnter:function(e,a){a.target.style.fill=le.hoverBar,t.sidebarContent.setAnyValue({title:{$set:e.data.Title},paragraph:{$set:e.data.Description},url:{$set:""}})},onMouseLeave:function(e,a){a.target.style.fill="Test"===e.id?le.selectedBreacump:le.primaryBar,t.sidebarContent.setAnyValue({title:{$set:""},paragraph:{$set:""},url:{$set:""}})},legendTop:null})))))});an.defaultProps={trainingData:[],predictor:{},dataPreparation:{}};var nn=sa(an),rn=function(e){var t=e.predictorStore.data.model_analysis[0].overall_input_importance,a=t.x.map((function(e,a){return{x:e,y:parseFloat(t.y[a].toFixed(2))}}));a.sort((function(e,t){return e.y-t.y}));var n=a.map((function(e){return Object(v.a)({importance:e.x,importanceColor:"hsl(253, 70%, 50%)"},e.x,e.y)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Column Importance"),r.a.createElement("br",null),r.a.createElement(qa,{data:n,keys:a.map((function(e){return e.x})),margin:{top:20,right:50,bottom:50,left:150},height:400,legendTop:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:32}}))},on=a(181),ln=a(398);function sn(){var e=Object(k.a)(["\n  width: 10px;\n  height: 10px;\n  margin-right: 5px;\n  &.redSquare {\n    background: ",";\n  }\n  &.greenSquare {\n    background: ",";\n  }\n"]);return sn=function(){return e},e}function cn(){var e=Object(k.a)(["\n  cursor: pointer;\n  display: inline-flex;\n  flex-direction: row;\n  align-items: baseline;\n  span {\n    margin-right: 5px;\n    margin-left: 5px;\n  }\n  .redSpan {\n    color: ",";\n  }\n  .greenSpan {\n    color: ",";\n  }\n"]);return cn=function(){return e},e}var un,dn,mn,pn,fn,hn,gn,bn=N.a.div(cn(),le.watermelon,le.selectedBreacump),vn=N.a.div(sn(),le.watermelon,le.selectedBreacump),yn=function(e){var t=e.dataResponse,a=e.dataKeys,n=e.hoverEvent;return r.a.createElement(ln.a,{onHover:n,data:t,cellShape:function(e){var t=e.x,a=e.y,o=e.data,i=e.value,l=e.width,s=e.height,c=e.color,u=e.opacity,d=e.borderWidth,m=e.borderColor,p=e.textColor,f=e.onHover,h=e.onLeave,g=o.xKey===o.yKey,b=parseFloat(100*i).toFixed(0),v=Object(on.b)({transform:"translate(".concat(t,", ").concat(a,")"),width:l,height:s,xOffset:-.5*l,yOffset:-.6*s,color:c,opacity:u,textColor:p,borderWidth:d,borderColor:m});return r.a.createElement(r.a.Fragment,null,r.a.createElement(on.a.g,{transform:v.transform,style:{cursor:"pointer"},onMouseEnter:function(){i>0&&n({cell:b,predictedField:o.yKey,actual:o.xKey,validColumn:g})},onMouseMove:f,onMouseLeave:h},r.a.createElement(on.a.rect,{x:v.xOffset,y:v.yOffset,width:v.width,height:v.height,fill:0===i||isNaN(i)?"white":g?"rgb(0, 176, 109, ".concat(b/100," )"):"rgb(255, 0, 0, ".concat(b/100,")"),strokeWidth:v.borderWidth,stroke:v.borderColor,strokeOpacity:v.opacity}),r.a.createElement(on.a.text,{dominantBaseline:"central",textAnchor:"middle",style:{fill:p},dy:i<50?-6:6},0===i||isNaN(i)?"-":"".concat(b,"%"))))},keys:a,indexBy:"predictedField",margin:{top:100,right:60,bottom:60,left:60},forceSquare:!0,animate:!0,motionStiffness:80,motionDamping:9,hoverTarget:"cell",axisTop:{orient:"top",tickSize:10,tickPadding:5,tickRotation:-55,legend:"Actual",legendPosition:"start",legendOffset:-60},axisRight:null,axisBottom:null,axisLeft:{orient:"left",tickSize:10,tickPadding:5,tickRotation:0,legend:"Predicted",legendPosition:"middle",legendOffset:-70},tooltip:function(e){var t=e.value,a=e.xKey,n=e.yKey,o=a===n,i=parseFloat(100*t).toFixed(0);return r.a.createElement(bn,null,r.a.createElement(vn,{className:o?"greenSquare":"redSquare"}),r.a.createElement("span",{className:o?"greenSpan":"redSpan"},n)," - ",r.a.createElement("span",{className:i<100||o?"greenSpan":"redSpan"},a))},cellOpacity:1,cellBorderColor:{from:"color",modifiers:[["darker",1]]},labelTextColor:{from:"color",modifiers:[["darker",2]]},cellHoverOthersOpacity:.5})},En=(a(684),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){var e=this.props,t=e.fullScreen,a=e.fullPosition;return this.state.hasError?r.a.createElement("div",{className:"".concat(t?"main-content":""),style:{paddingBottom:"6rem",overflow:t?"hidden":"auto"}},r.a.createElement($e,{topMessage:"Something wrong happened!",customIcon:"fa-flushed",bottomMessage:"But we are sure we can explain!",customBtnPosition:a?"20% auto":"0 auto 10px",isHasButton:!0,noneBorder:!t})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component)),wn=(a(685),sa(Object(g.a)((mn=dn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={contentHeight:null,explantionData:{percentage:null,predictedField:"-",actual:"-",validColumn:null}},e.resizeObserver=null,e.contentBodyRef=null,e.onResize=function(){if(e.contentBodyRef){var t=e.contentBodyRef.getBoundingClientRect().height;e.setState({contentHeight:t})}},e.goToPredictors=function(e){e.preventDefault(),e.stopPropagation(),nt.setStage("predictors")},e.goToPredictorDataQuality=function(){nt.setStage("predictorDataQuality")},e.setBodyResizeSubscribe=function(t){e.contentBodyRef=t,null!=e.resizeObserver&&e.resizeObserver.disconnect(),null!=e.contentBodyRef&&(e.resizeObserver=new ResizeObserver(e.onResize),e.resizeObserver.observe(e.contentBodyRef))},e.hoverEvent=function(t){e.setState({explantionData:{percentage:t.cell,predictedField:t.predictedField,actual:t.actual,validColumn:t.validColumn}})},e.enterAction=function(){console.log("hello in"),e.props.context.sidebarContent.setAnyValue({title:{$set:"The Confusion Matrix"},paragraph:{$set:"A confusion matrix shows the performance an algorithm gets when solving a classification problem.\n        Each entry in the confusion matrix can tell how many samples of each class were correctly classified\n        and how many and where incorrectly classified."},url:{$set:""}})},e.leaveAction=function(){e.props.context.sidebarContent.setAnyValue({title:{$set:""},paragraph:{$set:""},url:{$set:""}})},e}return Object(c.a)(a,[{key:"componentWillUnmount",value:function(){null!=this.resizeObserver&&this.resizeObserver.disconnect()}},{key:"render",value:function(){var e=this,t=this.props,a=t.predictorStore,n=t.predictor,o=a.loading,i=a.data;if(o)return r.a.createElement(Ht,null);var l=a.data.data_analysis.target_columns_metadata.reduce((function(e,t){return e[t.column_name]=t.data_type.toLowerCase(),e}),{}),s=(i.model_analysis||[]).map((function(e){return{name:e.column_name,data:We(e.train_accuracy_over_time)}})),c="".concat(n.predict," ").concat((100*a.data.accuracy).toFixed(2),"% Accurate");return r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",null),r.a.createElement(me,null,"Predictor Results for:"," "),r.a.createElement("span",{className:"fields-predicted"},n.predict.length>0?n.predict.join(", "):n.predict),r.a.createElement(At,{goToDatasources:this.goToPredictors,dataSourceId:i.name,actualSite:"Predictors"})),r.a.createElement("div",{className:"main-content__body",ref:this.setBodyResizeSubscribe},r.a.createElement("div",{className:"predictor-container"},r.a.createElement(ja,{className:"minds-block interactive-title",header:c,sectionTitleName:c,toggleable:!0,collapsed:!1,style:{margin:"0 0 20px 0"}},r.a.createElement(En,null,r.a.createElement(nn,{trainingData:s,predictor:n,dataPreparation:i.data_preparation,accuracy:a.data.accuracy,goToPredictorDataQuality:this.goToPredictorDataQuality}))),r.a.createElement(ja,{className:"minds-block interactive-title",header:"What is relevant for this model?",sectionTitleName:"What is relevant for this model?",toggleable:!0,collapsed:!0,style:{margin:"0 0 20px 0"}},r.a.createElement(En,null,r.a.createElement(rn,{predictorStore:a}))),a.data.model_analysis.map((function(t){var a=function(e,t,a){var n=a.matrix,r=a.predicted,o=a.real,i=[];if("numeric"===t&&"50"!==e){for(var l=50/parseInt(e,10),s=0;s<50;s+=l)if(qe(r.slice(s,s+l))){for(var c={predictedField:qe(r.slice(s,s+l))},u=0;u<50;u+=l)for(var d=0,m=0;m<l;m++){for(var p=0;p<l;p++)n[s+m]&&n[u+p]&&(d+=n[s+m][u+p]);c[qe(r.slice(u,u+l))]=d}i.push(c)}}else i=n.map((function(e,a){var i={predictedField:r[a]};return"numeric"===t&&(i={predictedField:parseFloat(r[a]).toFixed(2)}),o.forEach((function(e,t){return i[r[t]]=n[a][t]})),i}));return i}("10",l[t.column_name],t.confusion_matrix),n=a.map((function(e){return e.predictedField}));return a=function(e,t){for(var a={},n=function(n){a["".concat(t[n])]=e.reduce((function(e,a){return e+a["".concat(t[n])]}),0)},r=0;r<t.length;r++)n(r);return e.forEach((function(e){for(var n=0;n<t.length;n++){var r="".concat(t[n]);e[r]=parseFloat((e[r]/a[r]).toFixed(2))}})),e}(a,n),r.a.createElement(ja,{key:"confusion-matrix-".concat(t.column_name),className:"minds-block interactive-title scroll-x confusion-matrix-block",header:"When can you trust this model? - ".concat(t.column_name),sectionTitleName:"When can you trust this model?",toggleable:!0,collapsed:!0,style:{marginBottom:"20px"}},r.a.createElement(En,null,r.a.createElement("div",{onMouseEnter:function(){return e.enterAction()},onMouseLeave:function(){return e.leaveAction()},className:"row"},r.a.createElement("div",{className:"column column__right"},r.a.createElement("div",{className:"trust-model-container"},r.a.createElement("strong",null,"Explanation:")," ",r.a.createElement("span",{className:"label-gray"},"Move the mouse over the graphic to get a detailed explanation."),e.state.explantionData.percentage&&e.state.explantionData.percentage<100?r.a.createElement("p",null,r.a.createElement("span",{className:"tag tag__".concat(e.state.explantionData.validColumn?"success":"error")},e.state.explantionData.percentage+"%")," ","of the times"," ",r.a.createElement("span",{className:"tag tag__success"},e.state.explantionData.actual)," ",e.state.explantionData.actual===e.state.explantionData.predictedField?r.a.createElement(r.a.Fragment,null,"was correctly predicted by the model."):r.a.createElement(r.a.Fragment,null,"was supposed to be predicted by the model it miss classified it and confused it for"," ",r.a.createElement("span",{className:"tag tag__error"},e.state.explantionData.predictedField))):e.state.explantionData.percentage&&r.a.createElement("p",null,r.a.createElement("span",{className:"tag tag__".concat(e.state.explantionData.validColumn?"success":"error")},e.state.explantionData.percentage+"%")," ","of the time"," ",e.state.explantionData.validColumn?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"tag tag__success"},e.state.explantionData.actual)," ","was correctly predicted by the model."):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"tag tag__error"},e.state.explantionData.actual)," ","was supposed to be predicted by the model it miss classified it and confused it for"," ",r.a.createElement("span",{className:"tag tag__error"},e.state.explantionData.predictedField))),r.a.createElement("br",null))),r.a.createElement("div",{className:"column column__left position-confusion"},r.a.createElement("div",{style:{height:a.length>=10?600:400}},r.a.createElement(yn,{hoverEvent:e.hoverEvent,dataResponse:a,dataKeys:n}))))))}))),r.a.createElement("div",{className:"qtly-btn"},r.a.createElement(w.Button,{type:"button",className:"minds-action-btn",label:"QUALITY",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.goToPredictorDataQuality(),I.track("Predictor Results > Quality")}})),r.a.createElement("div",{className:"toolTip"})))}}]),a}(n.Component),dn.wrapNotes=function(e){return Object.keys(e).reduce((function(t,a){return e[a]>0&&t.push({type:a,text:"".concat(e[a]," ").concat(a)}),t}),[])},dn.objectNotes=function(e){return Object.keys(e).reduce((function(t,a){return e[a]>0&&t.push(r.a.createElement("div",{className:"header-status ".concat(a)},e[a]," ",a)),t}),[])},dn.objectStatus=function(e){return r.a.createElement("div",{className:"header-status info"},e.text)},un=mn))||un)),xn=(a(686),Object(g.a)(pn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=et.data||[],t=et.data.data_analysis.input_columns_metadata,a=e.data_analysis.target_columns_metadata.map((function(t){return t.data_analysis_v2=e.data_analysis_v2[t.column_name],t.warnings=Ve(t.data_analysis_v2),t.warningsLength=Object.keys(t.warnings).filter((function(e){return t.warnings[e]})).length,r.a.createElement(ja,{className:"minds-block interactive-title",key:"key-".concat(t.column_name),header:r.a.createElement("div",{className:"collapsed-panelTitle"},r.a.createElement("span",null,t.column_name," "),t.warningsLength>0&&r.a.createElement("div",{className:"warn-collapsed"},r.a.createElement("span",{className:"low-span"},t.warningsLength," Warnings\xa0"),r.a.createElement(zt,{type:"yellow"}))),sectionName:t.column_name,columnMetadata:t,noRepeat:!0,toggleable:!0,collapsed:!0},r.a.createElement(wa,{data:t}))})),n=t.map((function(t){var a=nt.predictorDataQualityCol;return t.data_analysis_v2=e.data_analysis_v2[t.column_name],t.warnings=Ve(t.data_analysis_v2),t.warningsLength=Object.keys(t.warnings).filter((function(e){return t.warnings[e]})).length,r.a.createElement(ja,{className:"xyz minds-block interactive-title quality",key:"key-".concat(t.column_name),header:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"width-column-1"},t.column_name),t.warningsLength>0&&r.a.createElement("div",{className:"width-column-2"},r.a.createElement("span",{className:"low-span"},t.warningsLength," Warnings\xa0"),r.a.createElement(zt,{type:"yellow"}))),sectionName:t.column_name,columnMetadata:t,collapsed:a!==t.column_name,noRepeat:!0,toggleable:!0},r.a.createElement(wa,{data:t}))}));return r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",null),r.a.createElement(me,null,"Predictor Data Quality"),r.a.createElement(At,{goToDatasources:this.goToPredictors,dataSourceId:"Data Quality",actualSite:"Predictors",AditionalItemGoto:this.constructor.goToPredictors,AditionalItemName:et.data.name})),r.a.createElement("div",{className:"main-content__body data-quality"},r.a.createElement("div",{className:"data-container"},a,n)))}}],[{key:"goToPredictors",value:function(e){e.preventDefault(),e.stopPropagation(),nt.setStage("predictors")}},{key:"goToPredictor",value:function(e){e.preventDefault(),e.stopPropagation(),nt.setStage("predictorView")}}]),a}(n.Component))||pn),kn=(a(687),Object(g.a)((gn=hn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={predictor:0,predictorFields:[],otherFields:[],conditions:[],checkedFields:[]},e.setPredictor=function(){var t=Object(_.a)(j.a.mark((function t(a){var n,r,o,i,l,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.predictorsStore,o=n.predictorStore,i=r.data[a].predict,t.next=4,o.loadPreview(r.data[a]);case 4:return t.next=6,r.getOptionColumns(a);case 6:l=(l=t.sent).map((function(e){return e.name})),s=[],l.forEach((function(e){-1===i.indexOf(e)&&s.push(e)})),e.setState({predictor:a,predictorFields:i,otherFields:s,conditions:[]});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangePredictor=function(t){e.setPredictor(t.target.value)},e.onRunQuery=Object(_.a)(j.a.mark((function t(){var a,n,r,o,i,l,s,c,u,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.predictor,r=a.conditions,o=a.predictorFields,i=e.props.predictorsStore,l=i.data[n],e.props.onHide(),s=r.reduce((function(e,t){var a=t.field;return"string"===typeof a&&a.length>0&&(e[a]=t.value),e}),{}),c=i.addQuery({when:s,toGet:o,pridictorName:l.name}),d=!1,t.prev=7,t.next=10,l.queryPredict(s,null,"new_explain");case 10:u=(u=t.sent)[0],t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),u={},d=!0;case 18:i.updateQuery(c.index,{fullResult:u,error:d}),I.track("Query > Run Query");case 20:case"end":return t.stop()}}),t,null,[[7,14]])}))),e.setFieldValue=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=Object(_.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.preselectedPredictorName,(a=this.props.predictorsStore).loaded){e.next=5;break}return e.next=5,a.load();case 5:if(-1!==(n=a.data.findIndex((function(e){return e.name===t})))){e.next=9;break}return this.setState({predictor:n,predictorFields:[],otherFields:[]}),e.abrupt("return");case 9:return e.next=11,this.setPredictor(n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.predictorFields,n=t.predictor,o=t.checkedFields,i=t.conditions,l=this.props.predictorsStore,s=[];if(-1!==n&&l.data[n]){var c=l.data[n],u=Object(_t.get)(c,"data_analysis.input_columns_metadata",[]);(s=l.data[n].columns)&&(s=s.map((function(e){var t=u.find((function(t){return t.column_name===e.name}));return e.importance_score=t?t.importance_score:0,e})),s=Object(_t.sortBy)(s,["importance_score"]).reverse())}var d=this.props,m=d.visible,p=d.onHide,f=function(t,a){var n=e.state.conditions,r=n.find((function(e){return e.field===t.field}));a?n=n.filter((function(e){return e.field!==t.label})):r&&r.field?n.map((function(e){return e.field===t.field?t:e})):n.push(t);var o=[];n.forEach((function(e){e&&e.value&&o.push(e)})),e.setState({conditions:o})},h=!i||i.length<1;return r.a.createElement(Le.Dialog,{visible:m,onHide:p,onShow:this.onShow,modal:!0,header:"New Query",className:"minds-dialog",style:{width:"500px"}}," ",this.props.predictorsStore.dropdownOptions.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"minds-dialog__field"},r.a.createElement("label",{htmlFor:"cb3",className:"p-checkbox-label"},"From:"),r.a.createElement(E.Dropdown,{inputId:"cb4",name:"predictor",value:n,options:this.props.predictorsStore.dropdownOptions,onChange:this.onChangePredictor,placeholder:"Select Predictor",className:"mdb-select",style:{minWidth:160}})),r.a.createElement("div",{className:"minds-dialog__field"},r.a.createElement("label",{htmlFor:"cb3",className:"p-checkbox-label"},"Get:"),r.a.createElement("div",{className:"grid-cell-centered-v"},a.join(", "))),r.a.createElement("div",{className:"minds-dialog__field"},r.a.createElement("label",{htmlFor:"cb4",className:"p-checkbox-label"},"Taking into account the following data:")),r.a.createElement(Ia,{name:"queryFields",filter:!0,showExtraFields:!0,value:o,options:s&&s.length>0?s.map((function(e){return{label:e.name,value:e.name,data_type:e.data_type,is_target_column:e.is_target_column,distribution:e.distribution,extraFieldValue:{field:e.name,value:null}}})).filter((function(e){return!e.is_target_column})):[],onChange:function(t,a){if(!1===t.checked){a.extraFieldValue.value=null;var n=e.state.checkedFields;n=n.filter((function(e){return e!==a.label})),e.setState({checkedFields:n}),f(a,!0)}},onExtraFieldChange:f}),r.a.createElement("div",{className:"new-query__bottom"},r.a.createElement("div",{className:"separate-btns",style:{marginTop:"24px"}},r.a.createElement("p",null),r.a.createElement("div",null,r.a.createElement(w.Button,{className:"minds-action-btn lg-btn-spacing bold red",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"CANCEL")),onClick:p}),r.a.createElement(w.Button,{className:"minds-action-btn lg-btn-spacing bold",type:"button",label:"RUN QUERY",onClick:this.onRunQuery,disabled:h||-1===n}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement($e,{topMessage:"There are no Predictors created",customIcon:"fa-flushed",isHasButton:!1,noneBorder:!0}),r.a.createElement("div",{className:"new-query__bottom"},r.a.createElement("div",{className:"separate-btns",style:{marginTop:"24px"}},r.a.createElement("p",null),r.a.createElement("div",null,r.a.createElement(w.Button,{className:"minds-action-btn lg-btn-spacing bold red",type:"button",label:r.a.createElement("div",{className:"icon-text"},r.a.createElement("span",null,"CANCEL")),onClick:p}))))))}}]),a}(n.Component),hn.defaultProps={preselectedPredictorName:null},fn=gn))||fn);function Nn(){var e=Object(k.a)(["\n\ttext-align: center;\n\toverflow-wrap: break-word;\n\twidth: 220px;\n\theight: 20px;\n\tmargin: 0;\n\tfont-size: 24px;\n\tfont-family: ",";\n\tfont-weight: 500;\n\tfont-stretch: normal;\n\tfont-style: normal;\n"]);return Nn=function(){return e},e}function Sn(){var e=Object(k.a)(["\n\ttext-align: center;\n\toverflow-wrap: break-word;\n\twidth: 220px;\n\theight: 20px;\n\tmargin: 0;\n\tfont-size: 18px;\n\tfont-family: ",";\n\tfont-weight: 500;\n\tfont-stretch: normal;\n\tfont-style: normal;\n"]);return Sn=function(){return e},e}function On(){var e=Object(k.a)(["\n\tposition: absolute;\n\ttop: 125px;\n  left: 1.7rem;\n  @media (max-width: 1150px) {\n    left: 0.4rem;\n    }\n"]);return On=function(){return e},e}function Cn(){var e=Object(k.a)(["position: relative;"]);return Cn=function(){return e},e}var jn=N.a.div(Cn()),_n=N.a.div(On()),Dn=N.a.p(Sn(),se),Pn=N.a.p(Nn(),se),Fn=function(e){var t=e.confidenceInterval,a=e.height,n=e.data,o=e.infoData,i=void 0===o?"":o,l=e.endAngle,s=void 0===l?360:l;return r.a.createElement(jn,{style:{height:a}},r.a.createElement(_n,null,r.a.createElement(Pn,null,t),r.a.createElement(Dn,null,i)),r.a.createElement(Qa.a,{data:n,margin:{top:0,right:40,bottom:0,left:10},innerRadius:.7,padAngle:.7,cornerRadius:0,enableSlicesLabels:!1,colors:[le.selectedBreacump,le.white],borderWidth:3,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,fit:!1,radialLabelsTextXOffset:6,radialLabelsTextColor:le.BlackPie,radialLabelsLinkOffset:-24,radialLabelsLinkDiagonalLength:0,endAngle:s,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},slicesLabelsSkipAngle:10,slicesLabelsTextColor:le.BlackPie,animate:!0,motionStiffness:90,motionDamping:15,defs:[],fill:[]}))};function Tn(){var e=Object(k.a)(["\n  text-align: left;\n  margin: 0 0 0 -50px;\n"]);return Tn=function(){return e},e}var Ln=N.a.h3(Tn()),Bn=function(e){var t=e.children;return r.a.createElement(Ln,null,t)},In=(a(688),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e,t,a,n=this.props,o=n.query,i=n.index,l=n.predictorsStore,s=[],c=[],u=[],d=[];!0!==o.error&&o.fullResult&&Object.keys(o.fullResult).forEach((function(n,i){var l=o.fullResult[n],m=l.predicted_value,p=l.confidence,f=l.extra_insights,h=l.explanation,g=void 0===h?[]:h,b=g.important_missing_information,v=g.confidence_interval;t=b,a=f.if_missing,isNaN(parseFloat(m))||(m=parseFloat(m).toFixed(2)),f&&(u=f.if_missing.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"p-content-text",key:t},"If"," ",r.a.createElement("span",{className:"tag tag__default"},Object.keys(e)[0])," ","was missing the model would have predicted"," ",r.a.createElement("span",{className:"tag tag__default"},e[Object.keys(e)[0]])),r.a.createElement("br",null))}))),g&&b&&b.forEach((function(e){return d.push(r.a.createElement("div",{className:"add-info-item"},r.a.createElement("span",{className:"tag tag__default"},e)))})),p=parseFloat((100*p).toFixed(0)),e="".concat(n,": ").concat(m," ").concat(p,"% confident");var y=[{id:"",label:"confidence",value:p,color:"hsl(250, 70%, 50%)"}],E=g&&v?v[0].toFixed(0)+" to "+v[1].toFixed(0):m;c.push(r.a.createElement("p",{className:"explanation-text"},"Using the values listed below, this model predicted"," ",r.a.createElement("span",{className:"tag tag__success"},n.split("_").join(" "))," ",v&&"be in range from ",v&&r.a.createElement("span",{className:"tag tag__success"},v[0].toFixed(0)+" - "+v[1].toFixed(0))," ","with ",r.a.createElement("span",{className:"tag tag__success"},p,"%")," ","confidence.")),s.push(r.a.createElement("div",{className:"donut-chart-content"},r.a.createElement(Bn,null,n),r.a.createElement(Fn,{confidenceInterval:E,infoData:"".concat(y[0].value,"% confident"),height:320,data:y,endAngle:360*y[0].value/100})))}));var m=Object.keys(o.when).map((function(e){return{variable:e,value:o.when[e]}}));return r.a.createElement(ja,{className:"minds-block interactive-title query-card",toggleable:!0,header:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"width-column-1"},"From ".concat(o.pridictorName," Get ").concat(o.toGet.join(", "))," "),r.a.createElement("span",{className:"width-column-2 label-color"},e)),sectionTitleName:"From ".concat(o.pridictorName," Get ").concat(o.toGet.join(", "))},r.a.createElement(r.a.Fragment,null,o.loading&&r.a.createElement(Ht,null),o.error&&r.a.createElement("div",{className:"error-msg"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"}),r.a.createElement("span",null,"Error occurred while executing query")),!o.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column-q"},r.a.createElement("div",{className:"donut-chart-container"},s),r.a.createElement("div",null,r.a.createElement("div",{className:"query-card__body_variables_title"},"Explanation"),c,r.a.createElement("div",{className:"simple-table-container-q"},m.map((function(e,t){return r.a.createElement("div",{className:"simple-row",key:t},r.a.createElement("div",{className:"simple-column"},r.a.createElement("div",{className:"column-content"},e.variable))," ",r.a.createElement("div",{className:"simple-column"},r.a.createElement("div",{className:"column-content ".concat("timestamp"!==e.variable?"":"timestamp-width")},"timestamp"!==e.variable?e.value:Pa()(e.value).format("LLLL"))))}))))),r.a.createElement("div",{className:"column-q"},t&&r.a.createElement(ja,{className:"minds-block interactive-title query-card",header:"What additional information would help most",sectionTitleName:"What additional information would help most",toggleable:!0},r.a.createElement("p",{className:"p-content-text"},"Knowing the value for the following columns would likely yield more accurate predictions.",r.a.createElement("div",{className:"add-info-contet"},d))),a&&r.a.createElement(ja,{className:"minds-block interactive-title query-card",header:"Extra Insights About This Prediction",sectionTitleName:"Extra Insights About This Prediction",toggleable:!0},u)))),r.a.createElement("div",{className:"query-card__footer"},r.a.createElement(w.Button,{type:"button",className:"minds-action-btn red",label:"DELETE",onClick:function(e){e.preventDefault(),l.deleteQuery(i)}}))))}}]),a}(n.Component));In.boxColumnTemplate=function(e,t){return r.a.createElement("div",{className:"query-variables-table__variable"}," ",e[t.field]," ")};var Rn=In,An=function(){function e(){var t=this;Object(s.a)(this,e),this.loading=!1,this.loaded=!1,this.data=[],this.queries=[],this.loadPromise=new Promise((function(e){return e()})),this.fields=[{field:"name",header:"NAME"},{field:"data_source",header:"DATASOURCE"},{field:"predict",header:"FIELDS"},{field:"status",header:"STATUS"},{field:"accuracy",header:"ACCURACY"}],this.reset=function(){t.loading=!1,t.loaded=!1,t.data=[],t.queries=[]}}return Object(c.a)(e,[{key:"addQuery",value:function(e){var t=e.when,a=e.toGet,n=e.pridictorName,r={index:this.queries.length,when:t,toGet:a,pridictorName:n,loading:!0,fullResult:null};return this.queries.push(r),r}},{key:"deleteQuery",value:function(e){var t=this.queries.findIndex((function(t){return t.index===e}));-1!==t&&this.queries.splice(t,1),this.queries=this.queries.map((function(e,t){return e.index=t,e}))}},{key:"updateQuery",value:function(e,t){var a=t.fullResult,n=t.error,r=this.queries[e];return this.queries[e]=Object(l.a)(Object(l.a)({},r),{},{fullResult:a,loading:!1,error:n}),this.queries[e]}},{key:"getOptionColumns",value:function(){var e=Object(_.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.loaded||!1!==this.loading){e.next=5;break}return e.next=3,this.load();case 3:e.next=8;break;case 5:if(!1!==this.loaded||!0!==this.loading){e.next=8;break}return e.next=8,this.loadPromise;case 8:if(0!==this.data.length){e.next=10;break}return e.abrupt("return",[]);case 10:if(null!==(a=this.data[t]).columns){e.next=14;break}return e.next=14,a.loadColumns();case 14:return e.abrupt("return",a.columns.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{value:t,id:t})})));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(_.a)(j.a.mark((function e(t){var a,n,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,this.loadPromise=new Promise((function(e){a=e})),e.prev=2,e.next=5,M.a.predictors(t);case 5:n=e.sent,console.log(n),Object(m.n)((function(){r.data=n,r.loading=!1,r.loaded=!0,a()})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"dropdownOptions",get:function(){return this.data.filter((function(e){return"complete"===e.status})).map((function(e,t){return{label:e.name,value:t}}))}}]),e}();Object(m.h)(An,{loading:m.m,loaded:m.m,data:m.m,queries:m.m,reset:m.d,addQuery:m.d,deleteQuery:m.d,updateQuery:m.d,load:m.d,dropdownOptions:m.e});var Mn,Un,Wn,Vn=new An,zn=(a(689),Object(g.a)((Wn=Un=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newQueryVisible:!1},e.showNewQuery=function(){e.setState({newQueryVisible:!0}),I.track("Query > Create New one")},e.hideNewQuery=function(t){e.setState({newQueryVisible:!1}),t&&e.reload()},e.reload=function(){console.log("reload")},e}return Object(c.a)(a,[{key:"render",value:function(){for(var e=Vn.queries,t=this.props.preselectedPredictorName,a=this.state.newQueryVisible,n=[],o=e.length-1;o>=0;o--)n.push(r.a.createElement(Rn,{key:"query-".concat(o),query:e[o],index:o,predictorsStore:Vn}));return r.a.createElement(En,{fullScreen:!0,fullPosition:!0},r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"content-dm"},r.a.createElement("div",{className:"dm-items"},r.a.createElement(me,null,"Query")),r.a.createElement(Ee,null))),0===n.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-content__body table-fit-scroll",style:{paddingBottom:"6rem",overflow:0===n.length?"hidden":"auto"}},r.a.createElement($e,{topMessage:"There is nothing here yet.",bottomMessage:"Queries allow you to make predictions for trained models, Click on \u201cNew Query\u201d to get started."})),r.a.createElement("div",{className:"fixed-buttons"},r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",icon:"fas fa-question",label:"NEW QUERY",onClick:this.showNewQuery}))):r.a.createElement("div",{className:"main-content__body"},r.a.createElement("div",{className:"query-container"},n," ",r.a.createElement("div",{className:"fixed-buttons"},r.a.createElement(w.Button,{className:"minds-action-btn",type:"button",icon:"fas fa-question",label:"NEW QUERY",onClick:this.showNewQuery})))),a&&r.a.createElement(kn,{visible:a,onHide:this.hideNewQuery,predictorsStore:Vn,predictorStore:et,preselectedPredictorName:t})))}}]),a}(n.Component),Un.defaultProps={preselectedPredictorName:null},Mn=Wn))||Mn),Hn=a(154);function qn(){var e=Object(k.a)(["\n  ",";\n\n  &:hover {\n    color: ",";\n    background-color: ",";\n\n    border: ",";\n    svg {\n      path {\n        fill: ",";\n      }\n    }\n  }\n\n  svg {\n    path {\n      fill: ",";\n    }\n  }\n"]);return qn=function(){return e},e}function Qn(){var e=Object(k.a)(["\n  margin-bottom: 2.5rem;\n  margin-left: 20px;\n  margin-right: 20px;\n  height: 32px;\n  border-radius: 7px;\n  cursor: pointer;\n  background-color: #f25c63;\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\n  border-style: solid;\n  border-width: 1px;\n  padding: 1px 7px 2px;\n  color: ",";\n  word-break: keep-all;\n  font-family: ",";\n  font-size: 12px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  letter-spacing: normal;\n  &:hover {\n    background-color: #ee2d36;\n  }\n"]);return Qn=function(){return e},e}function Gn(){var e=Object(k.a)(["\n  height: 40px;\n  border-radius: 5px;\n  border: solid 1px ",";\n  background-color: transparent;\n  transition: all ease 0.3s;\n  cursor: pointer;\n  font-size: 1em;\n  padding: 5px 20px;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  color: ",";\n  &:hover {\n    color: white;\n    background-color: ",";\n    svg {\n      fill: ",";\n    }\n  }\n"]);return Gn=function(){return e},e}var $n={start:Object(Hn.b)(Gn(),le.green,le.green,le.green,le.white),help:Object(Hn.b)(Qn(),le.white,se)},Kn=N.a.button(qn(),(function(e){return $n[e.stylesType]}),(function(e){return e.disabled?le.mirage:le.lightGreen}),(function(e){return e.disabled?function(e){var t=e.disabled,a=e.backgroundColor;return t?"transparent":a||"transparent"}(e):e.backgroundColorHover||e.backgroundColor}),(function(e){return e.disabled?"1px solid ".concat(le.mirage):"1px solid ".concat(le.lightGreen)}),(function(e){return e.fillIconColorHover||le.white}),(function(e){return e.fillIconColor||le.white})),Yn=function(e){var t=e.children,a=e.icon,n=e.callback,o=e.ariaLabel,i=e.disabled,l=e.fillIconColor,s=e.fillIconColorHover,c=e.backgroundColor,u=e.backgroundColorHover,d=e.type,m=void 0===d?"button":d,p=a;return r.a.createElement(Kn,Object.assign({},e,{onClick:function(){return i?function(){}:n&&n()},"aria-label":o,fillIconColor:l,fillIconColorHover:s,backgroundColor:c,backgroundColorHover:u,disabled:i,type:m}),a?r.a.createElement(p,null):t)};function Jn(){var e=Object(k.a)(["\n  color: ",";\n  margin: 0 auto;\n  margin-bottom: 162px;\n  width: 80%;\n  height: 210px;\n  font-family: ",";\n  font-size: 14px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.29;\n  letter-spacing: normal;\n\n  p {\n      text-align: left;\n      color: ",";\n      a {\n      display: block;\n      color: #4dd9ca;\n      font-size: 14px;\n      font-weight: bold;\n      margin-top: 10px;\n      outline: none;\n      border: none;\n      font-weight: bold;\n      cursor: pointer;\n    }\n  }\n"]);return Jn=function(){return e},e}var Xn=N.a.div(Jn(),le.mirage,ce,le.slateGrey),Zn=sa((function(e){var t=e.context;return r.a.createElement(r.a.Fragment,null,t&&t.sidebarContent&&r.a.createElement(Xn,null,r.a.createElement("strong",null,t.sidebarContent.title),r.a.createElement("p",null,t.sidebarContent.paragraph,t.sidebarContent.url&&r.a.createElement("a",{href:"/",onClick:function(){t.sidebarContent.url}},"Read more"))))})),er=function(e){var t=e.items,a=e.onMenuClick,n=e.connected;return t.reduce((function(e,t){return e.push(r.a.createElement("li",{key:t.key,className:"".concat(t.active?"minds-menu__active":""," ").concat(t.disabled?"minds-menu__disabled":"")},r.a.createElement("a",{className:"minds-menu__a",role:"button",onClick:function(e){e.preventDefault(),t.disabled||a(t.key)},href:"/"},r.a.createElement("div",{className:"minds-menu__a_mainitem"},"FontAwesome"===t.icon.type?r.a.createElement("span",{className:"minds-menu__icon"},r.a.createElement("i",{className:"fas fa-".concat(t.icon.name)})):r.a.createElement("img",{className:"minds-menu__icon",src:t.icon,alt:""}),r.a.createElement("span",null,t.label),"Connection"===t.label&&r.a.createElement("span",{className:"connectionStatusDot ".concat(n?"connected":"disconnected")}))))),e}),[])};function tr(){var e=Object(k.a)(["\n  max-width: 150px;\n  height: auto;\n"]);return tr=function(){return e},e}function ar(){var e=Object(k.a)(["\n  flex: 1;\n"]);return ar=function(){return e},e}var nr,rr=N.a.div(ar()),or=N.a.img(tr()),ir=r.a.createElement("div",null,r.a.createElement("span",null,"HELP US IMPROVE"),r.a.createElement("i",{className:"fas fa-bug"}),r.a.createElement("span",{className:"divider"},"/"),r.a.createElement("i",{className:"fas fa-lightbulb"})),lr=a(400),sr=a.n(lr),cr=(a(690),function(e){var t=e.items,a=e.onMenuClick,n=e.connectionStore,o=e.classUl,i=n.connected;return r.a.createElement("div",{className:"minds-menu-holder"},r.a.createElement("div",{className:"logo-holder"},r.a.createElement(or,{src:sr.a,alt:"logo"})),r.a.createElement("ul",{className:"".concat(o," minds-menu")},r.a.createElement(er,{items:t,onMenuClick:a,connected:i})),r.a.createElement(rr,null),r.a.createElement(Zn,null),r.a.createElement(Yn,{stylesType:"help",callback:function(e){}},ir))}),ur=Object(g.a)(nr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.setStage=function(e){nt.setStage(e)},e.goToConnect=function(){e.setStage("config")},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){setTimeout((function(){return nt.setStage("config")}),500)}},{key:"render",value:function(){var e=this,t=nt.stage,a=nt.predictor,n=nt.dataSource,o=nt.queryPredictorName,i=W.connected,l=this.props.configStore,s=r.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement(Ht,null),r.a.createElement("p",{className:"empty__version"},"Version ",l.config.version)),c=function(e,t,a,n){return[{label:"Connection",key:"config",active:"config"===e,icon:{type:"FontAwesome",name:"satellite-dish"}},{label:"Databases",key:"databases",active:"databases"===e||"DatabasesPreview"===e||"DatabasesQuality"===e,icon:{type:"FontAwesome",name:"database"},disabled:!a,items:null===t?void 0:[t]},{label:"Datasets",key:"datasources",active:"datasources"===e||"dataSourcePreview"===e||"dataSourceQuality"===e,icon:{type:"FontAwesome",name:"cubes"},disabled:!a,items:null===t?void 0:[t]},{label:"Predictors",key:"predictors",active:"predictors"===e||"predictorView"===e||"predictorDataQuality"===e,icon:{type:"FontAwesome",name:"parking"},disabled:!a,items:null===n?void 0:[n]},{label:"Query",key:"query",disabled:!a,active:"query"===e,icon:{type:"FontAwesome",name:"question"}}]}(t,n,i,a);return r.a.createElement("div",{className:"main-block"},r.a.createElement(cr,{classUl:"main-block__menu",items:c,onMenuClick:this.setStage,connectionStore:W}),r.a.createElement("div",{className:"main-block__body"},"config"===t&&r.a.createElement(xe,{dataSourcesStore:Va,connectionStore:W,configStore:l,predictorsStore:Vn}),"datasources"===t&&r.a.createElement(rt,{dataSourcesStore:Va}),"databases"===t&&r.a.createElement(Ft,{dataSourcesStore:Va}),"dataSourcePreview"===t&&r.a.createElement(Mt,null),"dataSourceQuality"===t&&r.a.createElement(_a,{dataSourceStore:Ye,dataSourcesStore:Va}),"predictors"===t&&r.a.createElement(Ha,{predictorsStore:Vn}),"predictorView"===t&&r.a.createElement(wn,{predictorStore:et,predictor:a}),"predictorDataQuality"===t&&r.a.createElement(xn,null),"query"===t&&r.a.createElement(zn,{dataSource:n,preselectedPredictorName:o,ref:function(t){e.queryPanelRef=t}}),"empty"===t&&s))}}]),a}(n.Component))||nr,dr=(a(691),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={checking:!1,available:null,error:!1,downloaded:!1,downloading:!1,progress:null,updateUrl:null,confirmInstallWindowVisible:!1,confirmDownloadWindowVisible:!1},e.onStartDownload=function(){},e.onStartInstall=function(){},e.showInstallWindow=function(){e.setState({confirmInstallWindowVisible:!0})},e.hideInstallWindow=function(){e.setState({confirmInstallWindowVisible:!1})},e.showDownloadWindow=function(){e.setState({confirmDownloadWindowVisible:!0})},e.hideDownloadWindow=function(){e.setState({confirmDownloadWindowVisible:!1})},e.closeErrorMessage=function(){e.setState({error:!1})},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.checking,a=e.available,n=e.error,o=e.downloaded,i=e.downloading,l=e.progress,s=e.updateUrl;return r.a.createElement("div",{className:"updater",style:{display:t||n||a||s||o||i||l?void 0:"none"}},r.a.createElement("div",{className:"updater__notice"},t&&"checking for update..."," ",n&&"error while update checking or downloading"," ",a&&!1===o&&!1===i&&"update available"," ",o&&"update downloaded"," ",i&&"update downloading progress: ".concat(l||0)," ",s&&r.a.createElement("div",null,"update available by",r.a.createElement("a",{href:s},"link")),n&&r.a.createElement(w.Button,{label:"",icon:"pi pi-times",className:"p-button-secondary updater__closebtn",onClick:this.closeErrorMessage})),r.a.createElement(Le.Dialog,{header:"Update",visible:this.state.confirmInstallWindowVisible,appendTo:document.body,modal:!0,onHide:this.hideInstallWindow},r.a.createElement("div",null,"Update downloaded. Install it now?"),r.a.createElement("div",{className:"separate-btns"},r.a.createElement(w.Button,{label:"Cancel",onClick:this.hideInstallWindow,className:"p-button-secondary"}),r.a.createElement(w.Button,{label:"Ok",onClick:this.onStartInstall,className:"p-button-success"}))),r.a.createElement(Le.Dialog,{header:"Update",visible:this.state.confirmDownloadWindowVisible,appendTo:document.body,modal:!0,onHide:this.hideDownloadWindow},r.a.createElement("div",null,"Update available. Download it now?"),r.a.createElement("div",{className:"separate-btns"},r.a.createElement(w.Button,{label:"Cancel",onClick:this.hideDownloadWindow,className:"p-button-secondary"}),r.a.createElement(w.Button,{label:"Ok",onClick:this.onStartDownload,className:"p-button-success"}))))}}]),a}(n.Component)),mr=a(401),pr=a.n(mr),fr=function(e){return{title:"",paragraph:"",url:"",setAnyValue:function(t,a){e.setState({sidebarContent:pr()(e.state.sidebarContent,t)},(function(){a&&a()}))}}},hr=function(e,t){return{sidebarContent:fr(e,t)}};f.initializeApp(z.firebaseConfig),h.a({dsn:"https://fa3929d33e824cc3af5f0b9e4d0266d8@o404567.ingest.sentry.io/5268699",environment:"Development"}),Object(m.f)({enforceActions:"observed"});var gr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mounted:!1},e.setGrowlRef=function(e){},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(l.a)(Object(l.a)({},hr(this,window)),{},{mounted:!0}))}},{key:"render",value:function(){var e=this.state.mounted;return r.a.createElement(la.Provider,{value:Object(l.a)({},this.state)},r.a.createElement("div",{className:"App"},r.a.createElement(p.Growl,{ref:this.setGrowlRef,position:"bottomright"}),e&&[r.a.createElement(dr,{key:"a2"}),r.a.createElement(ur,{key:"a3",configStore:z})]))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(692);a(403).defaults.global.defaultFontFamily="Rubik Medium",i.a.render(r.a.createElement(gr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[423,1,2]]]);
//# sourceMappingURL=main.e36a5830.chunk.js.map